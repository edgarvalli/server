{"version":3,"sources":["scripts.js","config.js","componets/Navbar.jsx","componets/Loader.jsx","helpers/ajax.js","componets/index.js","componets/CardBudget.jsx","componets/UserBar.jsx","views/Login.jsx","views/Clients.jsx","views/ClientForm.jsx","views/Budgets.jsx","views/AddBudget.jsx","views/BudgetComments.jsx","views/SelectClient.jsx","views/Users.jsx","views/Jobs.jsx","App.js","index.js"],"names":["reg","_session","localStorage","getItem","sessionStorage","session","JSON","parse","secret","host","api","uri","avatarUri","Navbar","state","openDrawer","params","onSearch","val","console","log","child","parentView","title","credentials","toggleDrawer","_this","setState","showSearchBar","sb","document","querySelector","se","classList","contains","remove","add","focus","setParams","navigator","this","view","props","navigation","go","window","confirm","clear","location","reload","fullscreenElement","exitFullscreen","documentElement","requestFullscreen","_this2","modules","react_default","a","createElement","index_es","position","className","onClick","variant","color","id","type","placeholder","autoComplete","onChange","ev","target","value","open","onClose","onOpen","src","map","item","changeView","reactPath","key","display","logout","toggleFullScreen","_this3","_this$state$params","childBar","mainBar","Component","Loader","setVisible","setHide","_this$state","style","marginLeft","ajax","_url","url","headers","Content-Type","Accept","method","Token","token","authentication","_authentication","Object","asyncToGenerator","regenerator_default","mark","_callee","autoLogin","request","response","crypt","wrap","_context","prev","next","body","stringify","fetch","catch","error","sent","json","alert","message","Cryptr","setItem","username","password","encrypt","user","profile","abrupt","stop","_x","_x2","apply","arguments","loginAgain","_loginAgain","_callee2","cred","_context2","decrypt","get","_get","_callee3","_context3","tokenExpired","post","_post","_callee4","data","_context4","_x3","uploadFile","_uploadFile","_callee5","files","_context5","concat","toLowerCase","_x4","_x5","_x6","addChild","_addChild","_callee6","_context6","_x7","_x8","updateChild","_updateChild","_callee7","_context7","_x9","_x10","removeChild","_removeChild","_callee8","_context8","_x11","_x12","searchChild","_searchChild","_callee9","_context9","_x13","_x14","fetchChildrens","_fetchChildrens","_callee10","limit","_args10","_context10","length","undefined","_x15","getChild","_getChild","_callee11","_context11","_x16","_x17","_Navbar","_Loader","CardBudget","_React$useState","React","useState","budget","budgetDescription","_React$useState2","slicedToArray","setValue","_React$useState3","_React$useState4","edith","setEdith","_React$useState5","visited","_React$useState6","setVisited","CardActionMain","disabled","CardActionEdith","Ajax","_id","secondary","Date","createDate","toLocaleString","paragraph","clientName","label","rows","multiline","fullWidth","_ref","control","_ref2","checked","container","xs","split","i","UserBar","date","publicVapidKey","urlBase64ToUint8Array","base64String","base64","repeat","replace","rawData","atob","Uint8Array","from","toConsumableArray","char","charCodeAt","sw","serviceWorker","register","scope","installing","active","addEventListener","s","Notification","requestPermission","then","permission","getPushSubscription","applicationServerKey","sub","pushManager","subscribe","userVisibleOnly","runServiceWorker","Login","preventDefault","onSubmit","login","tabIndex","RenderListItem","clients","client","onExpanded","cellphone","name","transition","Clients_RenderSubItems","assign","RenderSubItems","onRefresh","expanded","timeout","unmountOnExit","in","index","href","action","onChildClick","Clients","setNavbarParams","searchClients","fetchClients","refs","loader","componets_Loader","ref","component","Clients_RenderListItem","aria-label","ClientForm","clientAttributes","required","invoiceAttributes","values","getParams","getValues","updateClient","addClient","t0","handleSubmit","spacing","el","handleChange","invoiceInfo","_ref3","Budgets","budgets","fetchBudgets","background","padding","marginBottom","componets_CardBudget","childView","AddBudgets","FormData","_this$props$navigatio","clientId","clientCellphone","componets_UserBar","ev-target","Comment","comment","BudgetComments","socket","openSocket","query","room","handleTyping","typing","comments","componentWillUnmount","socketEvents","on","push","emit","_this4","BudgetComments_Comment","onFocus","setTimeout","scrollTo","scrollHeight","clearInterval","addComment","SelectClient","searchClient","Jobs","users","resp","avatar","App","views","AddBudget","Users","currentView","loggedIn","isMobile","breakPoints","viewport","innerWidth","test","userAgent","View","navbarParams","navbar","componets_Navbar","Login_Login","ReactDOM","render","src_App","getElementById"],"mappings":"qQACIA,kFCDEC,EAAWC,aAAaC,QAAQ,YAAcC,eAAeD,QAAQ,WAC9DE,EAAUC,KAAKC,MAAMN,GACrBO,EAAS,+DACTC,EAAO,6BACPC,EAAMD,EAAO,cACbE,EAAM,8GACNC,EAAY,uECFJC,6MAEjBC,MAAQ,CACJC,YAAY,EACZC,OAAQ,CACJC,SAAU,SAACC,GAAD,OAASC,QAAQC,IAAIF,IAC/BG,OAAO,EACPC,WAAY,GACZC,MAAO,UAEXC,YAAa,MAWjBC,aAAe,kBAAMC,EAAKC,SAAS,CAAEZ,YAAaW,EAAKZ,MAAMC,gBAE7Da,cAAgB,WACZ,IAAMC,EAAKC,SAASC,cAAc,yBAC5BC,EAAKF,SAASC,cAAc,eAC9BF,EAAGI,UAAUC,SAAS,oBACtBL,EAAGI,UAAUE,OAAO,mBACpBT,EAAKZ,MAAME,OAAOC,SAAS,MAE3BY,EAAGI,UAAUG,IAAI,mBACjBJ,EAAGK,YAIXC,UAAY,SAACtB,GAAD,OAAYU,EAAKC,SAAS,CAAEX,+FArBhC,gBAAiBuB,UACjBC,KAAKb,SAAS,CAAEH,YAAa,iCAE7BgB,KAAKb,SAAS,CAAEH,YAAa,wEAoB1BiB,GACPD,KAAKE,MAAMC,WAAWC,GAAGH,GACzBD,KAAKf,gDAISoB,OAAOC,QAAQ,iCAEzB5C,aAAa6C,QACb3C,eAAe2C,QACfF,OAAOG,SAASC,UAEhBT,KAAKf,0DAMJK,SAASoB,kBAGNpB,SAASqB,gBACTrB,SAASqB,iBAHbrB,SAASsB,gBAAgBC,sDAQvB,IAAAC,EAAAd,KACEvB,EAAauB,KAAK1B,MAAME,OAAxBC,SACJsC,EAAUrD,aAAaC,QAAQ,YAAcC,eAAeD,QAAQ,WAExE,OADAoD,EAAUjD,KAAKC,MAAMgD,GAEjBC,EAAAC,EAAAC,cAAA,WACIF,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAQC,SAAS,SACbJ,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAASE,UAAU,UACfL,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAMG,QAAStB,KAAKf,cAApB,QACA+B,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAYI,QAAQ,KAAKC,MAAM,WAAWxB,KAAK1B,MAAME,OAAOO,OAC5DiC,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAMG,QAAStB,KAAKZ,eAApB,UACA4B,EAAAC,EAAAC,cAAA,OAAKG,UAAU,aAAaI,GAAG,wBAC3BT,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAMK,MAAM,SAASF,QAAStB,KAAKZ,eAAnC,cACA4B,EAAAC,EAAAC,cAAA,SACIQ,KAAK,SACLD,GAAG,aACHE,YAAa3B,KAAK1B,MAAME,OAAOmD,aAAe,WAC9CC,aAAa,MACbC,SAAU,SAACC,GAAD,OAAQrD,EAASqD,EAAGC,OAAOC,aAIrDhB,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAiBc,KAAMjC,KAAK1B,MAAMC,WAAY2D,QAASlC,KAAKf,aAAckD,OAAQnC,KAAKf,cAEnF+B,EAAAC,EAAAC,cAACC,EAAA,EAAD,KACIH,EAAAC,EAAAC,cAACC,EAAA,EAAD,KACIH,EAAAC,EAAAC,cAACC,EAAA,EAAD,KACIH,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAQiB,IAAKjE,KAEjB6C,EAAAC,EAAAC,cAACC,EAAA,EAAD,uCAIRH,EAAAC,EAAAC,cAACC,EAAA,EAAD,MAEAH,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAME,UAAU,YAERN,EAAQsB,IAAI,SAAAC,GACR,OAAOtB,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAUG,QAAS,kBAAMR,EAAKyB,WAAWD,EAAKE,YAAYC,IAAKH,EAAKG,KAAMH,EAAKI,WAG9F1B,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAUG,QAAS,kBAAMR,EAAK6B,WAA9B,kBACA3B,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAUG,QAAS,kBAAMR,EAAK8B,qBAA9B,cACA5B,EAAAC,EAAAC,cAACC,EAAA,EAAD,KACIH,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAYI,QAAQ,WAAYvB,KAAK1B,MAAMU,oDAQxD,IAAA6D,EAAA7C,KAAA8C,EACuB9C,KAAK1B,MAAME,OAAjCM,EADDgE,EACChE,WAAYC,EADb+D,EACa/D,MACZoB,EAAeH,KAAKE,MAApBC,WACR,OACIa,EAAAC,EAAAC,cAAA,WACIF,EAAAC,EAAAC,cAACC,EAAA,EAAD,KACIH,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAASE,UAAU,UACfL,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAMG,QAAS,WACX3C,QAAQC,IAAIiE,EAAKvE,MAAME,QACvB2B,EAAWC,GAAGtB,EAAY+D,EAAKvE,MAAME,OAAOA,UAFhD,cAIAwC,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAYI,QAAQ,KAAKC,MAAM,WAAWzC,GAC1CiC,EAAAC,EAAAC,cAAA,gDAShB,OADkBlB,KAAK1B,MAAME,OAArBK,MAEGmB,KAAK+C,WAEL/C,KAAKgD,iBA5IYC,aCDfC,6MAEjB5E,MAAQ,CACJoE,QAAS,QACT3D,MAAO,MAGXoE,WAAa,SAACpE,GAAD,OAAWG,EAAKC,SAAS,CAAEuD,QAAS,QAAS3D,aAC1DqE,QAAU,kBAAMlE,EAAKC,SAAS,CAAEuD,QAAS,kFAEhC,IAAAW,EACsBrD,KAAK1B,MAAxBoE,EADHW,EACGX,QAAS3D,EADZsE,EACYtE,MACjB,OACIiC,EAAAC,EAAAC,cAAA,OAAKG,UAAU,SAASiC,MAAO,CAAEZ,YAC7B1B,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAkBI,QAAQ,gBAAgBC,MAAM,YAChDR,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAYI,QAAQ,UAAU+B,MAAO,CAACC,WAAY,KAAMxE,GAAS,uBAf7CkE,+DCArBO,EAAA,SAAAC,GACX,IAAIC,EAAMD,EACJtF,EAAMD,EAAM,eACdL,EAAUH,aAAaC,QAAQ,YAAcC,eAAeD,QAAQ,WAElEgG,EAAU,CACZA,QAAS,CACLC,eAAgB,mBAChBC,OAAU,oBAEdC,OAAQ,OAQZ,OALIjG,IACAA,EAAUC,KAAKC,MAAMF,GACrB8F,EAAQA,QAAQI,MAAQlG,EAAQmG,OAG7B,CAEGC,eAFH,eAAAC,EAAAC,OAAAC,EAAA,EAAAD,CAAAE,EAAApD,EAAAqD,KAAA,SAAAC,EAEkBvF,EAAawF,GAF/B,IAAAC,EAAAC,EAAAC,EAAA,OAAAN,EAAApD,EAAA2D,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAGCpB,EAAQG,OAAS,OACjBH,EAAQqB,KAAOlH,KAAKmH,UAAUjG,GAJ/B6F,EAAAE,KAAA,EAKuBG,MAAM/G,EAAKwF,GAASwB,MAAM,SAAAC,GAAK,OAAIzG,QAAQC,IAAIwG,KALtE,cAKOX,EALPI,EAAAQ,KAAAR,EAAAE,KAAA,EAMwBN,EAAQa,OANhC,cAMOZ,EANPG,EAAAQ,MAOcD,OACTG,MAAM,UAAYb,EAASc,SAE1Bd,EAASU,QACNZ,GACMG,EAAQ,IAAIc,IAAOzH,GACzBN,aAAagI,QAAQ,YAAY,GACjChI,aAAagI,QAAQ,cAAe,WACpChI,aAAagI,QAAQ,UAAW5H,KAAKmH,UAAU,CAC3CU,SAAU3G,EAAY2G,SACtBC,SAAUjB,EAAMkB,QAAQ7G,EAAY4G,UACpC5B,MAAOU,EAASV,MAChBQ,WAAW,KAEf9G,aAAagI,QAAQ,UAAW5H,KAAKmH,UAAUP,EAASoB,KAAKC,QAAQhF,YAErEnD,eAAe8H,QAAQ,YAAY,GACnC9H,eAAe8H,QAAQ,cAAe,WACtC9H,eAAe8H,QAAQ,UAAW5H,KAAKmH,UAAU,CAC7CjB,MAAOU,EAASV,SAEpBpG,eAAe8H,QAAQ,UAAW5H,KAAKmH,UAAUP,EAASoB,KAAKC,QAAQhF,YA5BhF8D,EAAAmB,OAAA,SAgCQtB,GAhCR,yBAAAG,EAAAoB,SAAA1B,EAAAvE,SAAA,gBAAAkG,EAAAC,GAAA,OAAAjC,EAAAkC,MAAApG,KAAAqG,YAAA,GAmCGC,WAnCH,eAAAC,EAAApC,OAAAC,EAAA,EAAAD,CAAAE,EAAApD,EAAAqD,KAAA,SAAAkC,IAAA,IAAA7B,EAAA8B,EAAAhC,EAAAC,EAAA,OAAAL,EAAApD,EAAA2D,KAAA,SAAA8B,GAAA,cAAAA,EAAA5B,KAAA4B,EAAA3B,MAAA,cAoCOJ,EAAQ,IAAIc,IAAOzH,GACnByI,EAAO,CACTd,SAAU9H,EAAQ8H,SAClBC,SAAUjB,EAAMgC,QAAQ9I,EAAQ+H,WAEpCjC,EAAQG,OAAS,OACjBH,EAAQqB,KAAOlH,KAAKmH,UAAUwB,GA1C/BC,EAAA3B,KAAA,EA2CuBG,MAAM/G,EAAKwF,GAASwB,MAAM,SAAAC,GAAK,OAAIzG,QAAQC,IAAIwG,KA3CtE,cA2COX,EA3CPiC,EAAArB,KAAAqB,EAAA3B,KAAA,EA4CwBN,EAAQa,OA5ChC,YA4COZ,EA5CPgC,EAAArB,MA6CcD,MA7Cd,CAAAsB,EAAA3B,KAAA,gBAAA2B,EAAAV,OAAA,SA8CYT,MAAM,oBAAsBb,EAASc,UA9CjD,QA+CC3H,EAAQmG,MAAQU,EAASV,MACzBtG,aAAagI,QAAQ,UAAW5H,KAAKmH,UAAUpH,IAhDhD,yBAAA6I,EAAAT,SAAAO,EAAAxG,SAAA,yBAAAuG,EAAAH,MAAApG,KAAAqG,YAAA,GAoDGO,IApDH,eAAAC,EAAA1C,OAAAC,EAAA,EAAAD,CAAAE,EAAApD,EAAAqD,KAAA,SAAAwC,IAAA,IAAArC,EAAAC,EAAA,OAAAL,EAAApD,EAAA2D,KAAA,SAAAmC,GAAA,cAAAA,EAAAjC,KAAAiC,EAAAhC,MAAA,cAAAgC,EAAAhC,KAAA,EAqDqBG,MAAMxB,EAAKC,GAASwB,MAAM,SAAAC,GAAK,OAAIzG,QAAQC,IAAIwG,KArDpE,cAqDKX,EArDLsC,EAAA1B,KAAA0B,EAAAhC,KAAA,EAsDsBN,EAAQa,OAtD9B,YAsDKZ,EAtDLqC,EAAA1B,MAuDcD,MAvDd,CAAA2B,EAAAhC,KAAA,aAwDSL,EAASsC,aAxDlB,CAAAD,EAAAhC,KAAA,aAyDalH,EAAQ2G,UAzDrB,CAAAuC,EAAAhC,KAAA,gBAAAgC,EAAAhC,KAAA,GA0DmB/E,KAAKsG,aA1DxB,eAAAS,EAAAhC,KAAA,GA2D6BG,MAAMxB,EAAKC,GAASwB,MAAM,SAAAC,GAAK,OAAIzG,QAAQC,IAAIwG,KA3D5E,eA2DaX,EA3DbsC,EAAA1B,KAAA0B,EAAAhC,KAAA,GA4D8BN,EAAQa,OA5DtC,QA4DaZ,EA5DbqC,EAAA1B,KAAA,eAAA0B,EAAAf,OAAA,SAgEQtB,GAhER,yBAAAqC,EAAAd,SAAAa,EAAA9G,SAAA,yBAAA6G,EAAAT,MAAApG,KAAAqG,YAAA,GAmEGY,KAnEH,eAAAC,EAAA/C,OAAAC,EAAA,EAAAD,CAAAE,EAAApD,EAAAqD,KAAA,SAAA6C,EAmEQC,GAnER,IAAA3C,EAAAC,EAAA,OAAAL,EAAApD,EAAA2D,KAAA,SAAAyC,GAAA,cAAAA,EAAAvC,KAAAuC,EAAAtC,MAAA,cAoECpB,EAAQG,OAAS,OACjBH,EAAQqB,KAAOlH,KAAKmH,UAAUmC,GArE/BC,EAAAtC,KAAA,EAsEqBG,MAAMxB,EAAKC,GAASwB,MAAM,SAAAC,GAAK,OAAIzG,QAAQC,IAAIwG,KAtEpE,cAsEKX,EAtEL4C,EAAAhC,KAAAgC,EAAAtC,KAAA,EAuEsBN,EAAQa,OAvE9B,YAuEKZ,EAvEL2C,EAAAhC,MAwEcD,MAxEd,CAAAiC,EAAAtC,KAAA,aAyESL,EAASsC,aAzElB,CAAAK,EAAAtC,KAAA,aA0EalH,EAAQ2G,UA1ErB,CAAA6C,EAAAtC,KAAA,gBAAAsC,EAAAtC,KAAA,GA2EmB/E,KAAKsG,aA3ExB,eAAAe,EAAAtC,KAAA,GA4E6BG,MAAMxB,EAAKC,GAASwB,MAAM,SAAAC,GAAK,OAAIzG,QAAQC,IAAIwG,KA5E5E,eA4EaX,EA5Eb4C,EAAAhC,KAAAgC,EAAAtC,KAAA,GA6E8BN,EAAQa,OA7EtC,QA6EaZ,EA7Eb2C,EAAAhC,KAAA,eAAAgC,EAAArB,OAAA,SAiFQtB,GAjFR,yBAAA2C,EAAApB,SAAAkB,EAAAnH,SAAA,gBAAAsH,GAAA,OAAAJ,EAAAd,MAAApG,KAAAqG,YAAA,GAoFGkB,WApFH,eAAAC,EAAArD,OAAAC,EAAA,EAAAD,CAAAE,EAAApD,EAAAqD,KAAA,SAAAmD,EAoFc5I,EAAOuI,EAAMM,GApF3B,IAAAjD,EAAAC,EAAA,OAAAL,EAAApD,EAAA2D,KAAA,SAAA+C,GAAA,cAAAA,EAAA7C,KAAA6C,EAAA5C,MAAA,cAqFCrB,EAAG,GAAAkE,OAAM1J,EAAN,KAAA0J,OAAa/I,EAAMgJ,cAAnB,iBACHlE,EAAQG,OAAS,OACjBH,EAAQA,QAAQyD,KAAOtJ,KAAKmH,UAAUmC,UAC/BzD,EAAQA,QAAQ,gBACvBA,EAAQqB,KAAO0C,EAzFhBC,EAAA5C,KAAA,EA2FqBG,MAAMxB,EAAKC,GAASwB,MAAM,SAAAC,GAAK,OAAIzG,QAAQC,IAAIwG,KA3FpE,cA2FKX,EA3FLkD,EAAAtC,KAAAsC,EAAA5C,KAAA,GA4FsBN,EAAQa,OA5F9B,aA4FKZ,EA5FLiD,EAAAtC,MA6FcD,MA7Fd,CAAAuC,EAAA5C,KAAA,aA8FSL,EAASsC,aA9FlB,CAAAW,EAAA5C,KAAA,aA+FalH,EAAQ2G,UA/FrB,CAAAmD,EAAA5C,KAAA,gBAAA4C,EAAA5C,KAAA,GAgGmB/E,KAAKsG,aAhGxB,eAAAqB,EAAA5C,KAAA,GAiG6BG,MAAMxB,EAAKC,GAASwB,MAAM,SAAAC,GAAK,OAAIzG,QAAQC,IAAIwG,KAjG5E,eAiGaX,EAjGbkD,EAAAtC,KAAAsC,EAAA5C,KAAA,GAkG8BN,EAAQa,OAlGtC,QAkGaZ,EAlGbiD,EAAAtC,KAAA,eAAAsC,EAAA3B,OAAA,SAsGQtB,GAtGR,yBAAAiD,EAAA1B,SAAAwB,EAAAzH,SAAA,gBAAA8H,EAAAC,EAAAC,GAAA,OAAAR,EAAApB,MAAApG,KAAAqG,YAAA,GA0GG4B,SA1GH,eAAAC,EAAA/D,OAAAC,EAAA,EAAAD,CAAAE,EAAApD,EAAAqD,KAAA,SAAA6D,EA0GYtJ,EAAOuI,GA1GnB,IAAA1C,EAAA,OAAAL,EAAApD,EAAA2D,KAAA,SAAAwD,GAAA,cAAAA,EAAAtD,KAAAsD,EAAArD,MAAA,cA2GCrB,EAAG,GAAAkE,OAAM1J,EAAN,KAAA0J,OAAa/I,EAAMgJ,cAAnB,SA3GJO,EAAArD,KAAA,EA4GwB/E,KAAKiH,KAAKG,GA5GlC,cA4GO1C,EA5GP0D,EAAA/C,KAAA+C,EAAApC,OAAA,SA6GQtB,GA7GR,wBAAA0D,EAAAnC,SAAAkC,EAAAnI,SAAA,gBAAAqI,EAAAC,GAAA,OAAAJ,EAAA9B,MAAApG,KAAAqG,YAAA,GAgHGkC,YAhHH,eAAAC,EAAArE,OAAAC,EAAA,EAAAD,CAAAE,EAAApD,EAAAqD,KAAA,SAAAmE,EAgHe5J,EAAOuI,GAhHtB,IAAA1C,EAAA,OAAAL,EAAApD,EAAA2D,KAAA,SAAA8D,GAAA,cAAAA,EAAA5D,KAAA4D,EAAA3D,MAAA,cAiHCrB,EAAG,GAAAkE,OAAM1J,EAAN,KAAA0J,OAAa/I,EAAMgJ,cAAnB,YAjHJa,EAAA3D,KAAA,EAkHwB/E,KAAKiH,KAAKG,GAlHlC,cAkHO1C,EAlHPgE,EAAArD,KAAAqD,EAAA1C,OAAA,SAmHQtB,GAnHR,wBAAAgE,EAAAzC,SAAAwC,EAAAzI,SAAA,gBAAA2I,EAAAC,GAAA,OAAAJ,EAAApC,MAAApG,KAAAqG,YAAA,GAsHGwC,YAtHH,eAAAC,EAAA3E,OAAAC,EAAA,EAAAD,CAAAE,EAAApD,EAAAqD,KAAA,SAAAyE,EAsHelK,EAAO4C,GAtHtB,IAAAiD,EAAA,OAAAL,EAAApD,EAAA2D,KAAA,SAAAoE,GAAA,cAAAA,EAAAlE,KAAAkE,EAAAjE,MAAA,cAuHCrB,EAAG,GAAAkE,OAAM1J,EAAN,KAAA0J,OAAa/I,EAAMgJ,cAAnB,YAAAD,OAA2CnG,GAvH/CuH,EAAAjE,KAAA,EAwHwB/E,KAAK4G,MAxH7B,cAwHOlC,EAxHPsE,EAAA3D,KAAA2D,EAAAhD,OAAA,SAyHQtB,GAzHR,wBAAAsE,EAAA/C,SAAA8C,EAAA/I,SAAA,gBAAAiJ,EAAAC,GAAA,OAAAJ,EAAA1C,MAAApG,KAAAqG,YAAA,GA4HG8C,YA5HH,eAAAC,EAAAjF,OAAAC,EAAA,EAAAD,CAAAE,EAAApD,EAAAqD,KAAA,SAAA+E,EA4HexK,EAAOmD,GA5HtB,IAAA0C,EAAA,OAAAL,EAAApD,EAAA2D,KAAA,SAAA0E,GAAA,cAAAA,EAAAxE,KAAAwE,EAAAvE,MAAA,cA6HCrB,EAAG,GAAAkE,OAAM1J,EAAN,KAAA0J,OAAa/I,EAAMgJ,cAAnB,YAAAD,OAA2C5F,GA7H/CsH,EAAAvE,KAAA,EA8HwB/E,KAAK4G,MA9H7B,cA8HOlC,EA9HP4E,EAAAjE,KAAAiE,EAAAtD,OAAA,SA+HQtB,GA/HR,wBAAA4E,EAAArD,SAAAoD,EAAArJ,SAAA,gBAAAuJ,EAAAC,GAAA,OAAAJ,EAAAhD,MAAApG,KAAAqG,YAAA,GAkIGoD,eAlIH,eAAAC,EAAAvF,OAAAC,EAAA,EAAAD,CAAAE,EAAApD,EAAAqD,KAAA,SAAAqF,EAkIkB9K,GAlIlB,IAAA+K,EAAAlF,EAAAmF,EAAAxD,UAAA,OAAAhC,EAAApD,EAAA2D,KAAA,SAAAkF,GAAA,cAAAA,EAAAhF,KAAAgF,EAAA/E,MAAA,cAkIyB6E,EAlIzBC,EAAAE,OAAA,QAAAC,IAAAH,EAAA,GAAAA,EAAA,GAkIiC,EAChCnG,EAAG,GAAAkE,OAAM1J,EAAN,KAAA0J,OAAa/I,EAAMgJ,cAAnB,WAAAD,OAA0CgC,GAnI9CE,EAAA/E,KAAA,EAoIwB/E,KAAK4G,MApI7B,cAoIOlC,EApIPoF,EAAAzE,KAAAyE,EAAA9D,OAAA,SAqIQtB,GArIR,wBAAAoF,EAAA7D,SAAA0D,EAAA3J,SAAA,gBAAAiK,GAAA,OAAAP,EAAAtD,MAAApG,KAAAqG,YAAA,GAwIG6D,SAxIH,eAAAC,EAAAhG,OAAAC,EAAA,EAAAD,CAAAE,EAAApD,EAAAqD,KAAA,SAAA8F,EAwIYvL,EAAO4C,GAxInB,IAAAiD,EAAA,OAAAL,EAAApD,EAAA2D,KAAA,SAAAyF,GAAA,cAAAA,EAAAvF,KAAAuF,EAAAtF,MAAA,cAyICrB,EAAG,GAAAkE,OAAM1J,EAAN,KAAA0J,OAAa/I,EAAMgJ,cAAnB,YAAAD,OAA2CnG,GAzI/C4I,EAAAtF,KAAA,EA0IwB/E,KAAK4G,MA1I7B,cA0IOlC,EA1IP2F,EAAAhF,KAAAgF,EAAArE,OAAA,SA2IQtB,GA3IR,wBAAA2F,EAAApE,SAAAmE,EAAApK,SAAA,gBAAAsK,EAAAC,GAAA,OAAAJ,EAAA/D,MAAApG,KAAAqG,YAAA,KChBEhI,EAASmM,EACTtH,EAASuH,EACTC,ECCE,SAAAxK,GAAS,IAAAyK,EACMC,IAAMC,SAAS3K,EAAM4K,OAAOC,mBAAqB,IADvDC,EAAA7G,OAAA8G,EAAA,EAAA9G,CAAAwG,EAAA,GACb3I,EADagJ,EAAA,GACNE,EADMF,EAAA,GAAAG,EAEMP,IAAMC,UAAS,GAFrBO,EAAAjH,OAAA8G,EAAA,EAAA9G,CAAAgH,EAAA,GAEbE,EAFaD,EAAA,GAENE,EAFMF,EAAA,GAAAG,EAGUX,IAAMC,SAAS3K,EAAM4K,OAAOU,UAAW,GAHjDC,EAAAtH,OAAA8G,EAAA,EAAA9G,CAAAoH,EAAA,GAGbC,EAHaC,EAAA,GAGJC,EAHID,EAAA,GAMdE,EAAiB,WACnB,OACI3K,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAaE,UAAU,uBACnBL,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAQK,MAAM,UAAUoK,SAAUJ,GAAUA,EAAU,WAAa,eACnExK,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAQK,MAAM,UAAUF,QAAS,WAC7BpB,EAAMC,WAAWC,GAAG,iBAAkB,CAAC0K,OAAQ5K,EAAM4K,WADzD,eAGA9J,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAQK,MAAM,UAAUF,QAAS,kBAAMgK,GAAS,KAAhD,YAKNO,EAAkB,WACpB,OACI7K,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAaE,UAAU,sBACnBL,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAQI,QAAQ,YAAYC,MAAM,UAC9BF,QAAS,WACLwK,IAAOvD,YAAY,UAAW,CAC1B9G,GAAIvB,EAAM4K,OAAOiB,IACjBjB,OAAQ,CACJC,kBAAmB/I,EACnBwJ,aAGRF,GAAS,KATjB,aAwBZ,OACItK,EAAAC,EAAAC,cAACC,EAAA,EAAD,KACIH,EAAAC,EAAAC,cAACC,EAAA,EAAD,KACIH,EAAAC,EAAAC,cAACC,EAAA,EAAD,KACIH,EAAAC,EAAAC,cAACC,EAAA,EAAD,KACIH,EAAAC,EAAAC,cAACC,EAAA,EAAD,KACIH,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAQiB,IAAKhE,KAEjB4C,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAc6K,UACV,IAAIC,KAAK/L,EAAM4K,OAAOoB,YAAYC,eAAe,UAEjDnL,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAYiL,WAAS,GAAElM,EAAM4K,OAAOuB,cAG5CrL,EAAAC,EAAAC,cAACC,EAAA,EAAD,KACIH,EAAAC,EAAAC,cAACC,EAAA,EAAD,KAEQkK,EACMrK,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAACC,EAAA,EAAD,CACImL,MAAM,wCACNtK,MAAOA,EACPuK,KAAK,IACLhL,QAAQ,WACRiL,WAAS,EACTC,WAAS,EACT5K,SAAU,SAAA6K,GAAA,IAAG3K,EAAH2K,EAAG3K,OAAH,OAAgBmJ,EAASnJ,EAAOC,UAE9ChB,EAAAC,EAAAC,cAACC,EAAA,EAAD,CACImL,MAAM,WACNK,QACI3L,EAAAC,EAAAC,cAACC,EAAA,EAAD,CACIa,MAAO,UACPH,SAAU,SAAA+K,GAAA,IAAG7K,EAAH6K,EAAG7K,OAAH,OAAgB2J,EAAW3J,EAAO8K,UAC5CrL,MAAM,UACNqL,QAASrB,OAKvBxK,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAM2L,WAAS,GACb9L,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAMmB,MAAI,EAACyK,GAAI,IACX/L,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAYiL,WAAS,GAChBpK,EAAMgL,MAAM,MAAM3K,IAAI,SAACC,EAAM2K,GAC1B,OACIjM,EAAAC,EAAAC,cAAA,QAAMuB,IAAKH,EAAO2K,GACb3K,EADL,IACWtB,EAAAC,EAAAC,cAAA,qBAYvDF,EAAAC,EAAAC,cAlEiB,WACrB,OAAImK,EACOrK,EAAAC,EAAAC,cAAC2K,EAAD,MAEA7K,EAAAC,EAAAC,cAACyK,EAAD,OA8DP,QDvGCuB,EENE,SAAAhN,GACX,IAAIiN,EAAOjN,EAAMiN,KAAO,IAAIlB,KAAK/L,EAAMiN,MAAQ,IAAIlB,KAEnD,OADAkB,EAAOA,EAAKhB,eAAe,SAEvBnL,EAAAC,EAAAC,cAACC,EAAA,EAAD,KACIH,EAAAC,EAAAC,cAACC,EAAA,EAAD,KACIH,EAAAC,EAAAC,cAACC,EAAA,EAAD,KACIH,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAQiB,IAAKlC,EAAM9B,aAEvB4C,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAc6K,UAAWmB,GACrBnM,EAAAC,EAAAC,cAACC,EAAA,EAAD,KAAajB,EAAMmM,yBPZjCe,EAAiB,0FAGvB,SAASC,EAAsBC,GAC3B,IACMC,GAAUD,EADA,IAAIE,QAAQ,EAAIF,EAAavD,OAAS,GAAK,IAEtD0D,QAAQ,MAAO,KACfA,QAAQ,KAAM,KAEbC,EAAUrN,OAAOsN,KAAKJ,GAC5B,OAAOK,WAAWC,KAAK1J,OAAA2J,EAAA,EAAA3J,CAAIuJ,GAASrL,IAAI,SAAC0L,GAAD,OAAUA,EAAKC,WAAW,iDAGtE,SAAAzJ,IAAA,IAAA0J,EAAA,OAAA5J,EAAApD,EAAA2D,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAE,KAAA,EACgBhF,UAAUmO,cAAcC,SAAS,QAAS,CAAEC,MAAO,aAC1DjJ,MAAM,SAAAC,GAAK,OAAIzG,QAAQC,IAAR,6CAAAgJ,OAAyDxC,MAFjF,QACI5H,EADJqH,EAAAQ,MAKYgJ,aAAYJ,EAAKzQ,EAAI6Q,YACzB7Q,EAAI8Q,SAAQL,EAAKzQ,EAAI8Q,QAEzBL,EAAGM,iBAAiB,cAAe,SAACC,GACT,cAAnBA,EAAEzM,OAAOzD,OACL,iBAAkB+B,QAClBoO,aAAaC,oBAAoBC,KAAK,SAAAC,GACf,YAAfA,GACAC,MAEL1J,MAAM,SAAAC,GAAK,OAAIzG,QAAQC,IAAR,iCAAAgJ,OAA6CxC,QAf/E,wBAAAP,EAAAoB,SAAA1B,EAAAvE,yCAqBe6O,8EAAf,SAAArI,IAAA,IAAAsI,EAAApL,EAAAqL,EAAA,OAAA1K,EAAApD,EAAA2D,KAAA,SAAA8B,GAAA,cAAAA,EAAA5B,KAAA4B,EAAA3B,MAAA,cACU+J,EAAuBzB,EAAsBD,GAC7C1J,EAAM,wDAFhBgD,EAAA3B,KAAA,EAGsBvH,EAAIwR,YAAYC,UAAU,CAAEC,iBAAiB,EAAMJ,yBAChE3J,MAAM,SAAAC,GAAK,OAAIzG,QAAQC,IAAR,sCAAAgJ,OAAkDxC,MAJ1E,cAGU2J,EAHVrI,EAAArB,KAAAqB,EAAA3B,KAAA,EAKUG,MAAMxB,EAAK,CACbC,QAAS,CAAEC,eAAgB,oBAC3BE,OAAQ,OACRkB,KAAMlH,KAAKmH,UAAU8J,KAR7B,wBAAArI,EAAAT,SAAAO,EAAAxG,gCAYemP,iDQzCMC,6MAEjB9Q,MAAQ,CACJqH,SAAU,GACVC,SAAU,GACVpB,WAAW,gHAGH1C,sFACRA,EAAGuN,mBACuCrP,KAAK1B,MAAvCqH,aAAUC,aAAUpB,cAChB,6DAEOsH,EAFP,qDAEiB7H,eAAe,CAAE0B,WAAUC,YAAYpB,iBAC1DY,OACNqJ,aAAaC,oBAAoBC,KAAjC,eAAAjC,EAAAvI,OAAAC,EAAA,EAAAD,CAAAE,EAAApD,EAAAqD,KAAsC,SAAAC,EAAMqK,GAAN,OAAAvK,EAAApD,EAAA2D,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,UAChB,YAAf6J,EAD+B,CAAA/J,EAAAE,KAAA,eAAAF,EAAAE,KAAA,EAExBmJ,IAFwB,wBAAArJ,EAAAoB,SAAA1B,EAAAvE,SAAtC,gBAAAmG,GAAA,OAAAuG,EAAAtG,MAAApG,KAAAqG,YAAA,wIASC,IAAAvF,EAAAd,KACL,OACIgB,EAAAC,EAAAC,cAAA,QAAMoO,SAAU,SAAAxN,GAAE,OAAIhB,EAAKyO,MAAMzN,IAAKT,UAAU,mBAC5CL,EAAAC,EAAAC,cAAA,OAAKG,UAAU,aACfL,EAAAC,EAAAC,cAACC,EAAA,EAAD,KACIH,EAAAC,EAAAC,cAACC,EAAA,EAAD,MACAH,EAAAC,EAAAC,cAACC,EAAA,EAAD,KACIH,EAAAC,EAAAC,cAACC,EAAA,EAAD,CACImL,MAAM,UACNG,WAAS,EACTzK,MAAOhC,KAAK1B,MAAMqH,SAClB9D,SAAU,SAACC,GAAD,OAAQhB,EAAK3B,SAAS,CAAEwG,SAAU7D,EAAGC,OAAOC,SACtDwN,SAAU,IAEdxO,EAAAC,EAAAC,cAACC,EAAA,EAAD,CACImL,MAAM,gBACN5K,KAAK,WACL+K,WAAS,EACTzK,MAAOhC,KAAK1B,MAAMsH,SAClB/D,SAAU,SAACC,GAAD,OAAQhB,EAAK3B,SAAS,CAAEyG,SAAU9D,EAAGC,OAAOC,SACtDwN,SAAU,KAGlBxO,EAAAC,EAAAC,cAACC,EAAA,EAAD,KACIH,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAM2L,WAAS,GACX9L,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAMmB,MAAI,EAACyK,GAAI,IACf/L,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAMmB,MAAI,EAACyK,GAAI,GACX/L,EAAAC,EAAAC,cAACC,EAAA,EAAD,CACIwL,QAAS3L,EAAAC,EAAAC,cAACC,EAAA,EAAD,CACLa,OAAO,EACPR,MAAM,UACNK,SAAU,SAAAC,GAAE,OAAIhB,EAAK3B,SAAS,CAAEqF,UAAW1C,EAAGC,OAAO8K,aAEzDP,MAAM,aACNkD,SAAU,KAGlBxO,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAMmB,MAAI,EAACyK,GAAI,IACf/L,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAMmB,MAAI,EAACyK,GAAI,IACX/L,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAQsL,WAAS,EAAClL,QAAQ,YAAYC,MAAM,UAAUE,KAAK,UAA3D,qBA/DGuB,aCc7BwM,EAAiB,SAAAvP,GAEnB,OAAOA,EAAMwP,QAAQrN,IAAI,SAAAsN,GACrB,OACI3O,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAMsB,IAAKkN,EAAO5D,KACd/K,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAUG,QAAS,kBAAMpB,EAAM0P,WAAWD,EAAO5D,MAAM1K,UAAU,aAC7DL,EAAAC,EAAAC,cAACC,EAAA,EAAD,KACIH,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAQiB,IAAKuN,EAAOvR,WAAaA,KAErC4C,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAc6K,UAAW2D,EAAOE,WAAa,IAAKF,EAAOG,MACzD9O,EAAAC,EAAAC,cAACC,EAAA,EAAD,KAAcH,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAMmC,MAAO,CAAEyM,WAAY,WAAatO,GAAI,QAAUkO,EAAO5D,KAA7D,yBAElB/K,EAAAC,EAAAC,cAAC8O,EAAD7L,OAAA8L,OAAA,CAAgBN,OAAQA,GAAYzP,QAM9CgQ,EAAiB,SAAAxD,GAAiD,IAA9CiD,EAA8CjD,EAA9CiD,OAAQxP,EAAsCuM,EAAtCvM,WAAYgQ,EAA0BzD,EAA1ByD,UAAWC,EAAe1D,EAAf0D,SAsCrD,OACIpP,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAUkP,QAAQ,OAAOC,eAAa,EAACC,GAAIH,EAAST,EAAO5D,OAAQ,GAC/D/K,EAAAC,EAAAC,cAACC,EAAA,EAAD,KAvCS,CAAC,SAAU,WAAY,uBAAwB,mBAAoB,YAyC3DkB,IAAI,SAACC,EAAM2K,GAChB,OACIjM,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAUsB,IAAKH,EAAO2K,EAAG5L,UAAU,UAC/BL,EAAAC,EAAAC,cAACC,EAAA,EAAD,CACII,QAAQ,UACRD,QAAS,kBA5CpB,SAAAkP,GACjB,OAAQA,GACJ,KAAK,EACDnQ,OAAOG,SAASiQ,KAAhB,QAAA7I,OAA+B+H,EAAOE,WACtC,MAEJ,KAAK,EACD1P,EAAWC,GAAG,aAAc,CAAEsQ,OAAQ,SAAUjP,GAAIkO,EAAO5D,MAC3D,MAEJ,KAAK,EAIL,KAAK,EAED,MAEJ,KAAK,EACY1L,OAAOC,QAAQ,oGAGxBwL,IAAOjD,YAAY,UAAW8G,EAAO5D,KAAK4C,KAAK,SAAAjK,GAC3C,GAAIA,EAASU,MAAO,OAAOG,MAAMb,EAASc,SAC1C2K,MAIR,MAEJ,QACI,OAAO,MAa4BQ,CAAa1D,IAC5B5L,UAAU,aAETiB,SAWhBsO,6MAEjBtS,MAAQ,CACJoR,QAAS,GACTU,SAAU,uFAGM,IAAAtP,EAAAd,KAChBA,KAAKE,MAAMC,WAAW0Q,gBAAgB,CAClC9R,MAAO,WACP4C,YAAa,iBACblD,SAAU,SAAAC,GAAG,OAAIoC,EAAKgQ,cAAcpS,IACpCyR,UAAW,kBAAMrP,EAAKiQ,kBAG1B/Q,KAAK+Q,2KAIL/Q,KAAKgR,KAAKC,OAAO9N,sBACM2I,IAAOrC,eAAe,kBAAvC/E,SACN1E,KAAKb,SAAS,CAAEuQ,QAAShL,EAAS0C,KAAKsI,UACvC1P,KAAKgR,KAAKC,OAAO7N,0LAGDpB,4EACF,KAAVA,2CAAqBhC,KAAK+Q,uCACPjF,IAAO3C,YAAY,UAAWnH,eAA/C0C,UACOU,+CAAcG,MAAMb,EAASc,iBAC1CxF,KAAKb,SAAS,CAAEuQ,QAAShL,EAAS0C,KAAKsI,8IAGlC,IAAA7M,EAAA7C,KACL,OACIgB,EAAAC,EAAAC,cAAA,OAAKG,UAAU,aAEXL,EAAAC,EAAAC,cAACgQ,EAAD,CAAQC,IAAI,WAEZnQ,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAM2L,WAAS,GACX9L,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAMmB,MAAI,EAACyK,GAAI,IACX/L,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAMiQ,UAAU,OACZpQ,EAAAC,EAAAC,cAACmQ,EAAD,CACI3B,QAAS1P,KAAK1B,MAAMoR,QACpBvP,WAAYH,KAAKE,MAAMC,WACvBgQ,UAAW,kBAAMtN,EAAKkO,gBACtBX,SAAUpQ,KAAK1B,MAAM8R,SACrBR,WAAY,SAACnO,GAAO,IACR2O,EAAavN,EAAKvE,MAAlB8R,SACRA,EAAS3O,IAAOoB,EAAKvE,MAAM8R,SAAS3O,GACpCoB,EAAK1D,SAAS,CAAEiR,mBAOpCpP,EAAAC,EAAAC,cAAA,QAAMG,UAAU,aACZL,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAKK,MAAM,UAAU8P,aAAW,MAAMhQ,QAClC,kBAAMuB,EAAK3C,MAAMC,WAAWC,GAAG,gBAE/BY,EAAAC,EAAAC,cAACC,EAAA,EAAD,sBA5Da8B,aC5FhBsO,6MAEjBC,iBAAmB,CACf,CACI1B,KAAM,OACNpO,KAAM,OACN4K,MAAO,SACPmF,UAAU,GAEd,CACI3B,KAAM,YACNxD,MAAO,UACP5K,KAAM,MACN+P,UAAU,GAEd,CACI3B,KAAM,QACNxD,MAAO,WACP5K,KAAM,OAEV,CACIoO,KAAM,UACNxD,MAAO,gBAEX,CACIwD,KAAM,OACNxD,MAAO,WAEX,CACIwD,KAAM,SACNxD,MAAO,aAEX,CACIwD,KAAM,QACNxD,MAAO,UAEX,CACIwD,KAAM,UACNxD,MAAO,QAEX,CACIwD,KAAM,MACNxD,MAAO,gBACP5K,KAAM,aAGdgQ,kBAAoB,CAChB,CACI5B,KAAM,MACNxD,MAAO,OAEX,CACIwD,KAAM,gBACNxD,MAAO,iBAEX,CACIwD,KAAM,iBACNxD,MAAO,qBAGfhO,MAAQ,CACJqT,OAAQ,uFAGQ,IACRxR,EAAeH,KAAKE,MAApBC,WACRA,EAAW0Q,gBAAgB,CACvBhS,OAAO,EACPC,WAAY,UACZC,MAAO,mBAE2B,WAAlCoB,EAAWyR,YAAYlB,QACvB1Q,KAAK6R,UAAU1R,EAAWyR,YAAYnQ,8EAI9BA,gFACZzB,KAAKgR,KAAKC,OAAO9N,sBACM2I,IAAO5B,SAAS,UAAWzI,eAA5CiD,UACOU,+CACFG,MAAMb,EAASc,wBAEnBd,EAAS0C,KAAK2E,IACrB/L,KAAKb,SAAS,CAAEwS,OAAQjN,EAAS0C,OACjCpH,KAAKgR,KAAKC,OAAO7N,kJAGRtB,GACTA,EAAGuN,iBAC8C,WAA7CrP,KAAKE,MAAMC,WAAWyR,YAAYlB,OAClC1Q,KAAK8R,eAEL9R,KAAK+R,mLAOGJ,EAAW3R,KAAK1B,MAAhBqT,gBACe7F,IAAOvD,YAAY,UAAW,CACjD9G,GAAIzB,KAAKE,MAAMC,WAAWyR,YAAYnQ,GACtCkO,OAAQgC,gBAFNjN,UAIOU,+CAAcG,MAAMb,EAASc,iBAC1CxF,KAAKE,MAAMC,WAAWC,GAAG,6DAGzBzB,QAAQC,IAAR8H,EAAAsL,sRAOQL,EAAW3R,KAAK1B,MAAhBqT,OACFjO,YAASxF,2BACQ4N,EAAKpI,GAAKuD,KAAK0K,eAAhCjN,UACOU,+CAAcG,MAAMb,EAASc,iBAC1CxF,KAAKE,MAAMC,WAAWC,GAAG,6DAGzBzB,QAAQC,IAARmI,EAAAiL,qJAIKvP,EAAKT,GAAO,IACb2P,EAAW3R,KAAK1B,MAAhBqT,OACRA,EAAOlP,GAAOT,EACdhC,KAAKb,SAAS,CAAEwS,4CAGX,IAAA7Q,EAAAd,KAEGG,EAAeH,KAAKE,MAApBC,WAER,OACIa,EAAAC,EAAAC,cAAA,OAAKG,UAAU,gCAEwB,WAAlClB,EAAWyR,YAAYlB,QAAuB1P,EAAAC,EAAAC,cAACgQ,EAAD,CAAQC,IAAI,WAE3DnQ,EAAAC,EAAAC,cAAA,QAAMoO,SAAU,SAACxN,GAAD,OAAQhB,EAAKmR,aAAanQ,KACtCd,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAM2L,WAAS,EAACoF,QAAS,IACrBlR,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAMmB,MAAI,EAACyK,GAAI,IAEP/M,KAAKwR,iBAAiBnP,IAAI,SAAC8P,EAAIlF,GAC3B,OACIjM,EAAAC,EAAAC,cAACC,EAAA,EAAD,CACIsB,IAAK0P,EAAGrC,KAAO7C,EACf6C,KAAMqC,EAAGrC,KACTrO,GAAI0Q,EAAGrC,KACPxD,MAAO6F,EAAG7F,MACVG,WAAS,EACT/K,KAAMyQ,EAAGzQ,MAAQ,OACjB+P,SAAUU,EAAGV,WAAY,EACzBjC,SAAU,EACV5N,aAAcuQ,EAAGvQ,cAAgB,MACjCI,MAAOlB,EAAKxC,MAAMqT,OAAOQ,EAAGrC,OAAS,GACrCjO,SAAU,SAAA6K,GAAA,IAAG3K,EAAH2K,EAAG3K,OAAH,OAAgBjB,EAAKsR,aAAaD,EAAGrC,KAAM/N,EAAOC,aAQhFhB,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAMmB,MAAI,EAACyK,GAAI,IACX/L,EAAAC,EAAAC,cAACC,EAAA,EAAD,CACIwL,QACI3L,EAAAC,EAAAC,cAACC,EAAA,EAAD,CACI0L,QAAS7M,KAAK1B,MAAMqT,OAAOU,cAAe,EAC1C7Q,MAAM,UACNQ,MAAM,cACNH,SAAU,SAAA+K,GAAA,IAAG7K,EAAH6K,EAAG7K,OAAH,OAAgBjB,EAAKsR,aAAa,cAAerQ,EAAO8K,YAG1EP,MAAM,mBACNkD,SAAU,KAIlBxO,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAMmB,MAAI,EAACyK,GAAI,IAEP/M,KAAK1B,MAAMqT,OAAOU,aAElBrS,KAAK0R,kBAAkBrP,IAAI,SAAC8P,EAAIlF,GAC5B,OACIjM,EAAAC,EAAAC,cAACC,EAAA,EAAD,CACIsB,IAAK0P,EAAGrC,KAAO7C,EACf6C,KAAMqC,EAAGrC,KACTrO,GAAI0Q,EAAGrC,KACPxD,MAAO6F,EAAG7F,MACVG,WAAS,EACT/K,KAAMyQ,EAAGzQ,MAAQ,OACjB+P,SAAUU,EAAGV,WAAY,EACzBjC,SAAU,EACV5N,aAAcuQ,EAAGvQ,cAAgB,MACjCI,MAAOlB,EAAKxC,MAAMqT,OAAOQ,EAAGrC,OAAS,GACrCjO,SAAU,SAAAyQ,GAAA,IAAGvQ,EAAHuQ,EAAGvQ,OAAH,OAAgBjB,EAAKsR,aAAaD,EAAGrC,KAAM/N,EAAOC,aAQhFhB,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAM4L,GAAI,GAAIzK,MAAI,GACdtB,EAAAC,EAAAC,cAACC,EAAA,EAAD,CACII,QAAQ,YACRC,MAAM,UACNiL,WAAS,EACT/K,KAAK,UAJT,qBA/MYuB,aCDnBsP,6MAEjBjU,MAAQ,CACJkU,QAAS,uFAITxS,KAAKE,MAAMC,WAAW0Q,gBAAgB,CAClC9R,MAAO,iBAGXiB,KAAKyS,eACLnT,SAAS0F,KAAK1B,MAAMoP,WAAa,yDAKjCpT,SAAS0F,KAAK1B,MAAMoP,WAAa,iDAGtB,IAAA5R,EAAAd,KACX8L,IAAOrC,eAAe,WAAWkF,KAAK,SAAAjK,GAClC,GAAIA,EAASU,MAAO,OAAOG,MAAMb,EAASc,SAC1C1E,EAAK3B,SAAS,CAAEqT,QAAS9N,EAAS0C,KAAKoL,6CAItC,IAAA3P,EAAA7C,KACL,OACIgB,EAAAC,EAAAC,cAAA,OAAKG,UAAU,YAAYiC,MAAO,CAAEqP,QAAS,UACzC3R,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAM2L,WAAS,EAACoF,QAAS,GAAI5O,MAAO,CAAEsP,aAAc,SAE5C5S,KAAK1B,MAAMkU,QAAQnQ,IAAI,SAAAyI,GACnB,OACI9J,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAMmB,MAAI,EAACyK,GAAI,GAAItK,IAAKqI,EAAOiB,KAC3B/K,EAAAC,EAAAC,cAAC2R,EAAD,CAAY/H,OAAQA,EAAQ3K,WAAY0C,EAAK3C,MAAMC,iBAMvEa,EAAAC,EAAAC,cAAA,QAAMG,UAAU,aAGZL,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAKK,MAAM,UAAU8P,aAAW,MAAMhQ,QAClC,kBAAMuB,EAAK3C,MAAMC,WAAWC,GAAG,eAAgB,CAC3CtB,WAAY,UACZgU,UAAW,gBAGf9R,EAAAC,EAAAC,cAACC,EAAA,EAAD,sBAlDa8B,aCChB8P,6MAEjBzU,MAAQ,CACJkU,QAAS,GACTb,OAAQ,MAGZjK,MAAQ,IAAIsL,4FAEQ,IAAAC,EACuBjT,KAAKE,MAAMC,WAA1C0Q,EADQoC,EACRpC,gBAAiBe,EADTqB,EACSrB,UACzBf,EAAgB,CACZ9R,MAAO,uBACPF,OAAO,EACPC,WAAY,eACZN,OAAQ,CACJM,WAAY,UACZgU,UAAW,eAInB9S,KAAKb,SAAS,CACVwS,OAAQ,CACJuB,SAAUtB,IAAY7F,IACtBM,WAAYuF,IAAY9B,KACxBqD,gBAAiBvB,IAAY/B,UAC7B9E,kBAAmB,uCAKtB,IAAAjK,EAAAd,KACG2R,EAAW3R,KAAK1B,MAAhBqT,OAER,OACI3Q,EAAAC,EAAAC,cAAA,OAAKG,UAAU,aAEXL,EAAAC,EAAAC,cAACkS,EAAD,CACIhV,UAAWA,EACXiO,WAAYsF,EAAOtF,aAEvBrL,EAAAC,EAAAC,cAAA,YACIG,UAAU,aACVkL,KAAK,IACL5K,YAAY,yCACZ8P,UAAQ,EACRzP,MAAO2P,EAAO5G,kBACdlJ,SAAU,SAAA6K,GAAgB,IAAb3K,EAAa2K,EAAb3K,OACT4P,EAAO5G,kBAAoBhJ,EAAOC,MAClClB,EAAK3B,SAAS,CAAEwS,YAEpBR,IAAI,YAGRnQ,EAAAC,EAAAC,cAAA,OAAKG,UAAU,aACXL,EAAAC,EAAAC,cAACC,EAAA,EAAD,CACIkS,YAAU,MACV7R,MAAM,UACNF,QAAS,WAC4B,KAA7BqQ,EAAO5G,kBACPe,IAAO7D,SAAS,UAAW0J,GAAQhD,KAAK,SAAAjK,GACpC,GAAGA,EAASU,MAAO,OAAOG,MAAMb,EAASc,SACzC1E,EAAKZ,MAAMC,WAAWC,GAAG,aAG7BmF,MAAM,iDAIdvE,EAAAC,EAAAC,cAACC,EAAA,EAAD,wBArEgB8B,+BCGlCqQ,EAAU,SAAApT,GACZ,OACIc,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAM2L,WAAS,EAACoF,QAAS,GACrBlR,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAMmB,MAAI,EAACyK,GAAI,IACX/L,EAAAC,EAAAC,cAACkS,EAAD,CACIhV,UAAWA,EACXiO,WAAYnM,EAAMyF,SAClBwH,KAAMjN,EAAMgM,YAAc,MAGlClL,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAMmB,MAAI,EAACyK,GAAI,IACf/L,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAMmB,MAAI,EAACyK,GAAI,IACX/L,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAYiL,WAAS,GAAElM,EAAMqT,QAAQvG,MAAM,MAAM3K,IAAI,SAACC,EAAM2K,GACxD,OACIjM,EAAAC,EAAAC,cAAA,QAAMuB,IAAKH,EAAO2K,GACb3K,EACDtB,EAAAC,EAAAC,cAAA,kBASPsS,6MAEjBC,OAASC,IAAWzV,EAAO,UAAW,CAClC0V,MAAO,CACHC,KAAM1U,EAAKgB,MAAMC,WAAWyR,YAAY9G,OAAOiB,IAC/C/H,MAAOnG,EAAQmG,WAIvB6P,aAAe,KAEfvV,MAAQ,CACJwV,OAAQ,GACRhJ,OAAQ,CAAEiJ,SAAU,GAAIhJ,kBAAmB,IAC3CwI,QAAS,MAGbzI,OAAS5L,EAAKgB,MAAMC,WAAWyR,YAAY9G,SAgB3CkJ,qBAAuB,kBAAM1U,SAAS0F,KAAK1B,MAAMoP,WAAa,6FAd1C,IAAA5R,EAAAd,KAChBA,KAAKE,MAAMC,WAAW0Q,gBAAgB,CAClChS,OAAO,EACPE,MAAO,aACPD,WAAY,YAGhBQ,SAAS0F,KAAK1B,MAAMoP,WAAa,UACjC1S,KAAKiU,eACLzQ,IAAO0G,SAAS,UAAWlK,KAAK8K,OAAOiB,KAAK4C,KAAK,SAAAjK,GAC7C5D,EAAK3B,SAAS,CAAE2L,OAAQpG,EAAS0C,KAAK0D,kDAM/B,IAAAjI,EAAA7C,KACXA,KAAKyT,OAAOS,GAAG,gBAAiB,SAAC9M,GAC7BvE,EAAK1D,SAAS,CAAE2U,OAAQ1M,EAAKtB,KAAO,oBAGxC9F,KAAKyT,OAAOS,GAAG,qBAAsB,kBAAMrR,EAAK1D,SAAS,CAAE2U,OAAQ,4CAG1D,IAAAzQ,EACmBrD,KAAK1B,MAAzBwM,EADCzH,EACDyH,OAAQyI,EADPlQ,EACOkQ,QACV9R,EAAKqJ,EAAOiB,IAClBjB,EAAOiJ,SAASI,KAAK,CACjBZ,UACA5N,SAAU,gBAEd3F,KAAKb,SAAS,CAAE2L,SAAQyI,QAAS,YAE1BzI,EAAOiB,IAEd/L,KAAKyT,OAAOW,KAAK,cAAe,CAAE3S,KAAIqJ,4CAGjC,IAAAuJ,EAAArU,KACG8K,EAAW9K,KAAK1B,MAAhBwM,OAER,OACI9J,EAAAC,EAAAC,cAAA,OAAKG,UAAU,sBACXL,EAAAC,EAAAC,cAACC,EAAA,EAAD,KACIH,EAAAC,EAAAC,cAACC,EAAA,EAAD,KACIH,EAAAC,EAAAC,cAACC,EAAA,EAAD,KACIH,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAQiB,IAAKhE,KAEjB4C,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAc6K,UAAW,IAAIC,KAAKnB,EAAOoB,YAAYC,kBACjDnL,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAYI,QAAQ,SAASuJ,EAAOuB,eAIhDrL,EAAAC,EAAAC,cAAA,OAAKG,UAAU,gBACXL,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAYiL,WAAS,GACjBtB,EAAOC,kBAAkBiC,MAAM,MAAM3K,IAAI,SAACC,EAAM2K,GAC5C,OACIjM,EAAAC,EAAAC,cAAA,QAAMuB,IAAKH,EAAO2K,GACb3K,EACDtB,EAAAC,EAAAC,cAAA,gBAOpBF,EAAAC,EAAAC,cAAA,OAAKG,UAAU,qBAAqB8P,IAAI,YACpCnQ,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAYI,QAAQ,UAAU+B,MAAO,CAAEC,WAAY,SAAWvD,KAAK1B,MAAMwV,QAErEhJ,EAAOiJ,SAAS1R,IAAI,SAAC8P,EAAIlF,GACrB,OACIjM,EAAAC,EAAAC,cAAA,OAAKuB,IAAK0P,EAAGxM,SAAWsH,GACpBjM,EAAAC,EAAAC,cAACoT,EAAD,CACI3O,SAAUwM,EAAGxM,SACb4N,QAASpB,EAAGoB,UAEhBvS,EAAAC,EAAAC,cAACC,EAAA,EAAD,UAQpBH,EAAAC,EAAAC,cAAA,OAAKG,UAAU,eACXL,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAQiB,IAAKjE,IACb6C,EAAAC,EAAAC,cAAA,YACIQ,KAAK,OACLC,YAAY,wBACZK,MAAOhC,KAAK1B,MAAMiV,QAClBgB,QAAS,WACLC,WAAW,WACPnU,OAAOoU,SAAS,EAAGnV,SAAS0F,KAAK0P,eAClC,MAEP7S,SAAU,SAAA6K,GAAgB,IAAb3K,EAAa2K,EAAb3K,OACTsS,EAAKlV,SAAS,CAAEoU,QAASxR,EAAOC,QAChCqS,EAAKZ,OAAOW,KAAK,gBAAiB,CAC9BtO,KAAM,cACN9D,MAAOD,EAAOC,QAElB2S,cAAcN,EAAKR,cACf9R,EAAOC,QACPqS,EAAKR,aAAeW,WAAW,WAC3BH,EAAKZ,OAAOW,KAAK,uBAClB,SAIfpT,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAMG,QAAS,kBAAM+S,EAAKO,eAA1B,iBAhIwB3R,aC7BvB4R,6MAEjBvW,MAAQ,CACJoR,QAAS,MAGblR,OAASU,EAAKgB,MAAMC,WAAWyR,+FAG3B5R,KAAKE,MAAMC,WAAW0Q,gBAAgB,CAClC9R,MAAM,wBACNF,OAAO,EACPC,WAAYkB,KAAKxB,OAAOM,aAE5BkB,KAAK+Q,sDAGM,IAAAjQ,EAAAd,KACXA,KAAKgR,KAAKC,OAAO9N,aACjB2I,IAAOrC,eAAe,WAAWkF,KAAK,SAAAjK,GAClC,GAAIA,EAASU,MAAO,OAAOG,MAAMb,EAASc,SAC1C1E,EAAK3B,SAAS,CAAEuQ,QAAShL,EAAS0C,KAAKsI,UACvC5O,EAAKkQ,KAAKC,OAAO7N,iDAIZpB,GAAO,IAAAa,EAAA7C,KAChBA,KAAKgR,KAAKC,OAAO9N,aACjB2I,IAAO3C,YAAY,UAAWnH,GAAO2M,KAAK,SAAAjK,GACtC,GAAIA,EAASU,MAAO,OAAOG,MAAMb,EAASc,SAC1C3C,EAAK1D,SAAS,CAAEuQ,QAAShL,EAAS0C,KAAKsI,UACvC7M,EAAKmO,KAAKC,OAAO7N,6CAIhB,IAAAiR,EAAArU,KACL,OACIgB,EAAAC,EAAAC,cAAA,OAAKG,UAAU,aAEXL,EAAAC,EAAAC,cAACgQ,EAAD,CAAQC,IAAI,WAEZnQ,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAM2L,WAAS,EAACoF,QAAS,IACrBlR,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAMmB,MAAI,EAACyK,GAAI,GAAIzJ,MAAO,CAAEqP,QAAS,SACjC3R,EAAAC,EAAAC,cAACC,EAAA,EAAD,CACII,QAAQ,WACRG,KAAK,SACL4K,MAAM,iBACNG,WAAS,EACT5K,SAAU,SAAA6K,GAAgB,IAAb3K,EAAa2K,EAAb3K,OACS,KAAjBA,EAAOC,MACFqS,EAAKtD,eACLsD,EAAKS,aAAa/S,EAAOC,WAI3ChB,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAMmB,MAAI,EAACyK,GAAI,IACX/L,EAAAC,EAAAC,cAACC,EAAA,EAAD,KAEQnB,KAAK1B,MAAMoR,QAAQrN,IAAI,SAAAsN,GACnB,OACI3O,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAUsB,IAAKkN,EAAO5D,IAAKzK,QAAS,WAChC+S,EAAKnU,MAAMC,WAAWC,GAAGiU,EAAK7V,OAAOsU,UAAWnD,KAEhD3O,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAc6K,UAAW2D,EAAOE,WAAa,IAAKF,EAAOG,MACzD9O,EAAAC,EAAAC,cAACC,EAAA,EAAD,KACIH,EAAAC,EAAAC,cAACC,EAAA,EAAD,4BAjEN8B,aCDrB8R,6MAEjBzW,MAAQ,CACJ0W,MAAO,4MAIPhV,KAAKE,MAAMC,WAAW0Q,gBAAgB,CAClC9R,MAAO,sBAGQ+M,IAAOrC,eAAe,iBAAnCwL,UACG7P,OACLpF,KAAKb,SAAS,CAAC6V,MAAOC,EAAK7N,KAAK4N,2IAKpC,OACIhU,EAAAC,EAAAC,cAAA,OAAKG,UAAU,aACXL,EAAAC,EAAAC,cAACC,EAAA,EAAD,KAEQnB,KAAK1B,MAAM0W,MAAM3S,IAAI,SAAAyD,GACjB,OACI9E,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAUsB,IAAKqD,EAAKiG,KAChB/K,EAAAC,EAAAC,cAACC,EAAA,EAAD,KACIH,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAQiB,IAAK0D,EAAKoP,UAEtBlU,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAc6K,UAAWlG,EAAKH,UAC1B3E,EAAAC,EAAAC,cAACC,EAAA,EAAD,KACK2E,EAAKgK,mBA9BhB7M,aCFb8R,+LAGb/U,KAAKE,MAAMC,WAAW0Q,gBAAgB,CAClC9R,MAAO,8CAKX,OACIiC,EAAAC,EAAAC,cAAA,OAAKG,UAAU,aAAf,mBAVsB4B,aCiGnBkS,8MAhFb7W,MAAQ,CACN8W,MAAO,CACLhG,QAAOwB,UAASW,aAAYgB,UAAS8C,YACrCR,eAAcrB,iBAAeuB,QAAMO,SAErCC,YAAa,YACb/W,OAAQ,GACRgX,UAAU,EACVC,UAAU,uFAMVzV,KAAK0V,cAIY,UAFAhY,aAAaC,QAAQ,aAAeC,eAAeD,QAAQ,aAG1EqC,KAAKb,SAAS,CACZqW,UAAU,EACVD,YAAa7X,aAAaC,QAAQ,iBAGpCqC,KAAKb,SAAS,CAAEqW,UAAU,0CAM5B,IAAMG,EAAWtV,OAAOuV,WACpB,SAASC,KAAK9V,UAAU+V,WAC1B9V,KAAKb,SAAS,CAAEsW,UAAU,IAEtBE,EAAW,KAAK3V,KAAKb,SAAS,CAAEsW,UAAU,qCAIzC,IAAA3U,EAAAd,KAAAqD,EAEkCrD,KAAK1B,MAAtC8W,EAFD/R,EAEC+R,MAAOG,EAFRlS,EAEQkS,YAAaE,EAFrBpS,EAEqBoS,SACtBM,EAAOX,EAAMG,GAEbpV,EAAa,CACjBC,GAAI,SAACmV,GAA6B,IAAhB/W,EAAgB6H,UAAA0D,OAAA,QAAAC,IAAA3D,UAAA,GAAAA,UAAA,GAAP,GACrB3I,aAAaC,QAAQ,gBACvBD,aAAagI,QAAQ,cAAe6P,GACpC7X,aAAagI,QAAQ,SAAU5H,KAAKmH,UAAUzG,MAE9CZ,eAAe8H,QAAQ,cAAe6P,GACtC3X,eAAe8H,QAAQ,SAAU5H,KAAKmH,UAAUzG,KAGlDsC,EAAK3B,SAAS,CAAEoW,cAAa/W,YAE/BqS,gBAAiB,SAACmF,GAAD,OAAkBlV,EAAKkQ,KAAKiF,OAAOnW,UAAUkW,IAC9DP,WACA7D,UAAW,WACT,IAAIpT,EAAS,GAKX,OAHEA,EADJd,aAAaC,QAAQ,UACRD,aAAaC,QAAQ,UACrBC,eAAeD,QAAQ,UAE3BG,KAAKC,MAAMS,KAIxB,OACGwB,KAAK1B,MAAMkX,SAGRxU,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAACgV,EAAD,CAAQ/E,IAAI,SAAShR,WAAYA,IACjCa,EAAAC,EAAAC,cAAC6U,EAAD,CAAM5V,WAAYA,KAJpBa,EAAAC,EAAAC,cAACiV,EAAD,aAvEQlT,oBCVlBmT,IAASC,OAAOrV,EAAAC,EAAAC,cAACoV,GAAD,MAAShX,SAASiX,eAAe","file":"static/js/main.a1481c92.chunk.js","sourcesContent":["const publicVapidKey = 'BH54HR9NEeTIQ36JskmMCoKMsM1EseYPAEv7O575VrgJ9xtXW3gh8nVO23PVwNWB8CDUCypLRBGU9jCiXkQVUZY';\r\nvar reg;\r\n\r\nfunction urlBase64ToUint8Array(base64String) {\r\n    const padding = '='.repeat((4 - base64String.length % 4) % 4);\r\n    const base64 = (base64String + padding)\r\n        .replace(/\\-/g, '+')\r\n        .replace(/_/g, '/')\r\n        ;\r\n    const rawData = window.atob(base64);\r\n    return Uint8Array.from([...rawData].map((char) => char.charCodeAt(0)));\r\n}\r\n\r\nasync function runServiceWorker() {\r\n    reg = await navigator.serviceWorker.register('sw.js', { scope: '/tlacrm/' })\r\n        .catch(error => console.log(`Service Worker failed to register, Error: ${error}`))\r\n    let sw;\r\n\r\n    if (reg.installing) sw = reg.installing;\r\n    if (reg.active) sw = reg.active;\r\n\r\n    sw.addEventListener('statechange', (s) => {\r\n        if (s.target.state === 'activated') {\r\n            if ('Notification' in window) {\r\n                Notification.requestPermission().then(permission => {\r\n                    if (permission === 'granted') {\r\n                        getPushSubscription();\r\n                    }\r\n                }).catch(error => console.log(`Error to request notification ${error}`));\r\n            }\r\n        }\r\n    })\r\n}\r\n\r\nasync function getPushSubscription() {\r\n    const applicationServerKey = urlBase64ToUint8Array(publicVapidKey);\r\n    const url = 'https://ev-server.ddns.net/api/tlacrm/users/subscribe';\r\n    const sub = await reg.pushManager.subscribe({ userVisibleOnly: true, applicationServerKey })\r\n        .catch(error => console.log(`Error to subscribe to push manager ${error}`))\r\n    await fetch(url, {\r\n        headers: { \"Content-Type\": \"Application/Json\" },\r\n        method: \"post\",\r\n        body: JSON.stringify(sub)\r\n    })\r\n}\r\n\r\nexport default runServiceWorker;","const _session = localStorage.getItem('session') || sessionStorage.getItem('session');\r\nexport const session = JSON.parse(_session);\r\nexport const secret = 'ckUQU!@YtN%8Phtp9tXtC6W96PeV8Kd4mcMpB==Bs9JUK8B=*JKNX!C$K%3a';\r\nexport const host = 'https://ev-server.ddns.net';\r\nexport const api = host + '/api/tlacrm';\r\nexport const uri = 'https://lh3.googleusercontent.com/-zjdfJx44dfQ/AAAAAAAAAAI/AAAAAAAAAos/SukJQdVUzJU/s60-p-rw-no-il/photo.jpg';\r\nexport const avatarUri = 'https://ev-server.ddns.net/tlacrm/images/profiles/default_avatar.png';","import React, { Component } from \"react\";\r\nimport { AppBar, Icon, SwipeableDrawer, List, ListItem, Toolbar, Typography, Divider, Avatar, ListItemAvatar, ListItemText } from '@material-ui/core';\r\nimport { uri } from '../config';\r\n\r\nexport default class Navbar extends Component {\r\n\r\n    state = {\r\n        openDrawer: false,\r\n        params: {\r\n            onSearch: (val) => console.log(val),\r\n            child: false,\r\n            parentView: '',\r\n            title: 'Navbar'\r\n        },\r\n        credentials: '',\r\n    }\r\n\r\n    componentDidMount() {\r\n        if ('credentials' in navigator) {\r\n            this.setState({ credentials: 'Credentials API is supported' })\r\n        } else {\r\n            this.setState({ credentials: 'Credentials API is not supported' })\r\n        }\r\n    }\r\n\r\n    toggleDrawer = () => this.setState({ openDrawer: !this.state.openDrawer });\r\n\r\n    showSearchBar = () => {\r\n        const sb = document.querySelector('#search-bar-container');\r\n        const se = document.querySelector('#search-bar');\r\n        if (sb.classList.contains('search-bar-show')) {\r\n            sb.classList.remove('search-bar-show');\r\n            this.state.params.onSearch('')\r\n        } else {\r\n            sb.classList.add('search-bar-show');\r\n            se.focus();\r\n        }\r\n    }\r\n\r\n    setParams = (params) => this.setState({ params })\r\n\r\n    changeView(view) {\r\n        this.props.navigation.go(view);\r\n        this.toggleDrawer();\r\n    }\r\n\r\n    logout() {\r\n        let _logout = window.confirm('¿Deseas cerrar sesión?');\r\n        if (_logout) {\r\n            localStorage.clear();\r\n            sessionStorage.clear();\r\n            window.location.reload();\r\n        } else {\r\n            this.toggleDrawer();\r\n        }\r\n    }\r\n\r\n\r\n    toggleFullScreen() {\r\n        if (!document.fullscreenElement) {\r\n            document.documentElement.requestFullscreen();\r\n        } else {\r\n            if (document.exitFullscreen) {\r\n                document.exitFullscreen();\r\n            }\r\n        }\r\n    }\r\n\r\n    mainBar() {\r\n        const { onSearch } = this.state.params;\r\n        let modules = localStorage.getItem('modules') || sessionStorage.getItem('modules');\r\n        modules = JSON.parse(modules);\r\n        return (\r\n            <div>\r\n                <AppBar position=\"fixed\">\r\n                    <Toolbar className=\"navbar\">\r\n                        <Icon onClick={this.toggleDrawer}>menu</Icon>\r\n                        <Typography variant=\"h6\" color=\"inherit\">{this.state.params.title}</Typography>\r\n                        <Icon onClick={this.showSearchBar}>search</Icon>\r\n                        <div className=\"search-bar\" id=\"search-bar-container\">\r\n                            <Icon color=\"action\" onClick={this.showSearchBar}>arrow_back</Icon>\r\n                            <input\r\n                                type=\"search\"\r\n                                id=\"search-bar\"\r\n                                placeholder={this.state.params.placeholder || 'Buscador'}\r\n                                autoComplete=\"off\"\r\n                                onChange={(ev) => onSearch(ev.target.value)} />\r\n                        </div>\r\n                    </Toolbar>\r\n                </AppBar>\r\n                <SwipeableDrawer open={this.state.openDrawer} onClose={this.toggleDrawer} onOpen={this.toggleDrawer}>\r\n\r\n                    <List>\r\n                        <ListItem>\r\n                            <ListItemAvatar>\r\n                                <Avatar src={uri} />\r\n                            </ListItemAvatar>\r\n                            <ListItemText>Edgar Eduardo Valli Muñoz</ListItemText>\r\n                        </ListItem>\r\n                    </List>\r\n\r\n                    <Divider />\r\n\r\n                    <List className=\"w-drawer\">\r\n                        {\r\n                            modules.map(item => {\r\n                                return <ListItem onClick={() => this.changeView(item.reactPath)} key={item.key}>{item.display}</ListItem>\r\n                            })\r\n                        }\r\n                        <ListItem onClick={() => this.logout()}>Cerrar Session</ListItem>\r\n                        <ListItem onClick={() => this.toggleFullScreen()}>FullScreen</ListItem>\r\n                        <ListItem>\r\n                            <Typography variant=\"caption\" >{this.state.credentials}</Typography>\r\n                        </ListItem>\r\n                    </List>\r\n                </SwipeableDrawer>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    childBar() {\r\n        const { parentView, title } = this.state.params;\r\n        const { navigation } = this.props;\r\n        return (\r\n            <div>\r\n                <AppBar>\r\n                    <Toolbar className=\"navbar\">\r\n                        <Icon onClick={() => {\r\n                            console.log(this.state.params)\r\n                            navigation.go(parentView, this.state.params.params)\r\n                        }}>arrow_back</Icon>\r\n                        <Typography variant=\"h6\" color=\"inherit\">{title}</Typography>\r\n                        <div></div>\r\n                    </Toolbar>\r\n                </AppBar>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    render() {\r\n        const { child } = this.state.params;\r\n        if (child) {\r\n            return this.childBar();\r\n        } else {\r\n            return this.mainBar();\r\n        }\r\n\r\n    }\r\n\r\n}","import React, { Component } from 'react';\r\nimport { CircularProgress, Typography } from '@material-ui/core';\r\n\r\nexport default class Loader extends Component {\r\n\r\n    state = {\r\n        display: \"fixed\",\r\n        title: \"\"\r\n    }\r\n\r\n    setVisible = (title) => this.setState({ display: \"fixed\", title });\r\n    setHide = () => this.setState({ display: \"none\" });\r\n\r\n    render() {\r\n        const { display, title } = this.state;\r\n        return (\r\n            <div className=\"loader\" style={{ display }}>\r\n                <CircularProgress variant=\"indeterminate\" color=\"primary\" />\r\n                <Typography variant=\"caption\" style={{marginLeft: 20}}>{title || 'Cargando...'}</Typography>\r\n            </div>\r\n        )\r\n    }\r\n\r\n}","import { secret, api } from '../config';\r\nimport Cryptr from 'cryptr';\r\n\r\nexport default _url => {\r\n    let url = _url;\r\n    const uri = api + '/users/login';\r\n    let session = localStorage.getItem('session') || sessionStorage.getItem('session');\r\n\r\n    const headers = {\r\n        headers: {\r\n            \"Content-Type\": \"Application/Json\",\r\n            \"Accept\": \"Application/Json\"\r\n        },\r\n        method: \"get\"\r\n    }\r\n\r\n    if (session) {\r\n        session = JSON.parse(session);\r\n        headers.headers.Token = session.token\r\n    }\r\n\r\n    return {\r\n\r\n        async authentication(credentials, autoLogin) {\r\n            headers.method = 'post';\r\n            headers.body = JSON.stringify(credentials);\r\n            const request = await fetch(uri, headers).catch(error => console.log(error));\r\n            const response = await request.json();\r\n            if (response.error)\r\n                alert('Error: ' + response.message)\r\n\r\n            if (!response.error) {\r\n                if (autoLogin) {\r\n                    const crypt = new Cryptr(secret);\r\n                    localStorage.setItem('loggedIn', true)\r\n                    localStorage.setItem('currentView', 'Clients')\r\n                    localStorage.setItem('session', JSON.stringify({\r\n                        username: credentials.username,\r\n                        password: crypt.encrypt(credentials.password),\r\n                        token: response.token,\r\n                        autoLogin: true\r\n                    }))\r\n                    localStorage.setItem('modules', JSON.stringify(response.user.profile.modules))\r\n                } else {\r\n                    sessionStorage.setItem('loggedIn', true);\r\n                    sessionStorage.setItem('currentView', 'Clients');\r\n                    sessionStorage.setItem('session', JSON.stringify({\r\n                        token: response.token\r\n                    }))\r\n                    sessionStorage.setItem('modules', JSON.stringify(response.user.profile.modules))\r\n                }\r\n            }\r\n\r\n            return response;\r\n        },\r\n\r\n        async loginAgain() {\r\n            const crypt = new Cryptr(secret);\r\n            const cred = {\r\n                username: session.username,\r\n                password: crypt.decrypt(session.password)\r\n            }\r\n            headers.method = 'post';\r\n            headers.body = JSON.stringify(cred);\r\n            const request = await fetch(uri, headers).catch(error => console.log(error));\r\n            const response = await request.json();\r\n            if (response.error)\r\n                return alert('Autologin error: ' + response.message)\r\n            session.token = response.token;\r\n            localStorage.setItem('session', JSON.stringify(session))\r\n            // window.location.reload();\r\n        },\r\n\r\n        async get() {\r\n            let request = await fetch(url, headers).catch(error => console.log(error));\r\n            let response = await request.json();\r\n            if (response.error) {\r\n                if (response.tokenExpired) {\r\n                    if (session.autoLogin) {\r\n                        await this.loginAgain();\r\n                        request = await fetch(url, headers).catch(error => console.log(error));\r\n                        response = await request.json();\r\n                    }\r\n                }\r\n            }\r\n            return response;\r\n        },\r\n\r\n        async post(data) {\r\n            headers.method = 'post';\r\n            headers.body = JSON.stringify(data);\r\n            let request = await fetch(url, headers).catch(error => console.log(error));\r\n            let response = await request.json();\r\n            if (response.error) {\r\n                if (response.tokenExpired) {\r\n                    if (session.autoLogin) {\r\n                        await this.loginAgain();\r\n                        request = await fetch(url, headers).catch(error => console.log(error));\r\n                        response = await request.json();\r\n                    }\r\n                }\r\n            }\r\n            return response;\r\n        },\r\n\r\n        async uploadFile(child, data, files) {\r\n            url = `${api}/${child.toLowerCase()}/uploadfiles/`;\r\n            headers.method = 'post';\r\n            headers.headers.data = JSON.stringify(data);\r\n            delete headers.headers[\"Content-Type\"];\r\n            headers.body = files;\r\n\r\n            let request = await fetch(url, headers).catch(error => console.log(error));\r\n            let response = await request.json();\r\n            if (response.error) {\r\n                if (response.tokenExpired) {\r\n                    if (session.autoLogin) {\r\n                        await this.loginAgain();\r\n                        request = await fetch(url, headers).catch(error => console.log(error));\r\n                        response = await request.json();\r\n                    }\r\n                }\r\n            }\r\n            return response;\r\n\r\n        },\r\n\r\n        async addChild(child, data) {\r\n            url = `${api}/${child.toLowerCase()}/add/`;\r\n            const response = await this.post(data);\r\n            return response;\r\n        },\r\n\r\n        async updateChild(child, data) {\r\n            url = `${api}/${child.toLowerCase()}/update/`;\r\n            const response = await this.post(data);\r\n            return response;\r\n        },\r\n\r\n        async removeChild(child, id) {\r\n            url = `${api}/${child.toLowerCase()}/remove/${id}`;\r\n            const response = await this.get();\r\n            return response;\r\n        },\r\n\r\n        async searchChild(child, value) {\r\n            url = `${api}/${child.toLowerCase()}/search/${value}`;\r\n            const response = await this.get();\r\n            return response;\r\n        },\r\n\r\n        async fetchChildrens(child, limit = 1) {\r\n            url = `${api}/${child.toLowerCase()}/fetch/${limit}`;\r\n            const response = await this.get();\r\n            return response;\r\n        },\r\n\r\n        async getChild(child, id) {\r\n            url = `${api}/${child.toLowerCase()}/getone/${id}`;\r\n            const response = await this.get();\r\n            return response;\r\n        }\r\n\r\n    }\r\n\r\n}","import _Navbar from './Navbar';\r\nimport _Loader from './Loader';\r\nimport _CardBudget from './CardBudget';\r\nimport _UserBar from './UserBar';\r\n\r\nexport const Navbar = _Navbar;\r\nexport const Loader = _Loader;\r\nexport const CardBudget = _CardBudget;\r\nexport const UserBar = _UserBar;","import React from 'react';\r\nimport {\r\n    Card, Avatar, CardContent, List, ListItem, ListItemText, ListItemAvatar,\r\n    Typography, CardActions, Button, TextField, FormControlLabel, Switch, Grid\r\n} from '@material-ui/core';\r\nimport { avatarUri } from '../config';\r\nimport Ajax from '../helpers/ajax';\r\n\r\nexport default props => {\r\n    const [value, setValue] = React.useState(props.budget.budgetDescription || '');\r\n    const [edith, setEdith] = React.useState(false);\r\n    const [visited, setVisited] = React.useState(props.budget.visited || false);\r\n\r\n\r\n    const CardActionMain = () => {\r\n        return (\r\n            <CardActions className=\"card-action__center\">\r\n                <Button color=\"default\" disabled={visited}>{visited ? 'Visitado' : 'Sin Visitar'}</Button>\r\n                <Button color=\"primary\" onClick={() => {\r\n                    props.navigation.go('BudgetComments', {budget: props.budget})\r\n                }}>Comentarios</Button>\r\n                <Button color=\"primary\" onClick={() => setEdith(true)}>Editar</Button>\r\n            </CardActions>\r\n        )\r\n    }\r\n\r\n    const CardActionEdith = () => {\r\n        return (\r\n            <CardActions className=\"card-action__right\">\r\n                <Button variant=\"contained\" color=\"primary\"\r\n                    onClick={() => {\r\n                        Ajax().updateChild('budgets', {\r\n                            id: props.budget._id,\r\n                            budget: {\r\n                                budgetDescription: value,\r\n                                visited\r\n                            }\r\n                        })\r\n                        setEdith(false)\r\n                    }}\r\n                >Guardar</Button>\r\n            </CardActions>\r\n        )\r\n    }\r\n\r\n    const RenderCardAction = () => {\r\n        if (edith) {\r\n            return <CardActionEdith />\r\n        } else {\r\n            return <CardActionMain />\r\n        }\r\n    }\r\n\r\n    return (\r\n        <Card>\r\n            <CardContent>\r\n                <List>\r\n                    <ListItem>\r\n                        <ListItemAvatar>\r\n                            <Avatar src={avatarUri} />\r\n                        </ListItemAvatar>\r\n                        <ListItemText secondary={\r\n                            new Date(props.budget.createDate).toLocaleString('es-MX')\r\n                        }>\r\n                            <Typography paragraph>{props.budget.clientName}</Typography>\r\n                        </ListItemText>\r\n                    </ListItem>\r\n                    <ListItem>\r\n                        <ListItemText>\r\n                            {\r\n                                edith\r\n                                    ? <div>\r\n                                        <TextField\r\n                                            label=\"Editar información del presupuesto\"\r\n                                            value={value}\r\n                                            rows=\"4\"\r\n                                            variant=\"outlined\"\r\n                                            multiline\r\n                                            fullWidth\r\n                                            onChange={({ target }) => setValue(target.value)}\r\n                                        />\r\n                                        <FormControlLabel\r\n                                            label=\"Visitado\"\r\n                                            control={\r\n                                                <Switch\r\n                                                    value={'visited'}\r\n                                                    onChange={({ target }) => setVisited(target.checked)}\r\n                                                    color=\"primary\"\r\n                                                    checked={visited}\r\n                                                />\r\n                                            }\r\n                                        />\r\n                                    </div>\r\n                                    : <Grid container>\r\n                                        <Grid item xs={12}>\r\n                                            <Typography paragraph>\r\n                                                {value.split('\\n').map((item, i) => {\r\n                                                    return (\r\n                                                        <span key={item + i}>\r\n                                                            {item} <br />\r\n                                                        </span>\r\n                                                    )\r\n                                                })}\r\n                                            </Typography>\r\n                                        </Grid>\r\n                                    </Grid>\r\n                            }\r\n                        </ListItemText>\r\n                    </ListItem>\r\n                </List>\r\n            </CardContent>\r\n            <RenderCardAction />\r\n        </Card>\r\n    )\r\n}","import React from 'react';\r\nimport { List, ListItem, ListItemAvatar, ListItemText, Typography, Avatar } from '@material-ui/core';\r\nexport default props => {\r\n    let date = props.date ? new Date(props.date) : new Date();\r\n    date = date.toLocaleString('es-MX');\r\n    return (\r\n        <List>\r\n            <ListItem>\r\n                <ListItemAvatar>\r\n                    <Avatar src={props.avatarUri} />\r\n                </ListItemAvatar>\r\n                <ListItemText secondary={date}>\r\n                    <Typography>{props.clientName}</Typography>\r\n                </ListItemText>\r\n            </ListItem>\r\n        </List>\r\n    )\r\n}","import React, { Component } from 'react';\r\nimport { Card, CardHeader, CardContent, TextField, CardActions, Switch, Button, FormControlLabel, Grid } from '@material-ui/core';\r\nimport Ajax from '../helpers/ajax';\r\nimport serviceWorker from '../scripts';\r\n\r\nexport default class Login extends Component {\r\n\r\n    state = {\r\n        username: '',\r\n        password: '',\r\n        autoLogin: false\r\n    }\r\n\r\n    async login(ev) {\r\n        ev.preventDefault();\r\n        const { username, password, autoLogin } = this.state;\r\n        const uri = 'https://ev-server.ddns.net/api/tlacrm/users/login';\r\n\r\n        const resp = await Ajax(uri).authentication({ username, password }, autoLogin);\r\n        if (!resp.error) {\r\n            Notification.requestPermission().then(async permission => {\r\n                if(permission === 'granted') {\r\n                    await serviceWorker();\r\n                }\r\n            })\r\n        }\r\n        // window.location.reload();\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <form onSubmit={ev => this.login(ev)} className=\"login-container\">\r\n                <div className=\"bg-login\"></div>\r\n                <Card>\r\n                    <CardHeader />\r\n                    <CardContent>\r\n                        <TextField\r\n                            label=\"Usuario\"\r\n                            fullWidth\r\n                            value={this.state.username}\r\n                            onChange={(ev) => this.setState({ username: ev.target.value })}\r\n                            tabIndex={1}\r\n                        />\r\n                        <TextField\r\n                            label=\"Contraseña\"\r\n                            type=\"password\"\r\n                            fullWidth\r\n                            value={this.state.password}\r\n                            onChange={(ev) => this.setState({ password: ev.target.value })}\r\n                            tabIndex={2}\r\n                        />\r\n                    </CardContent>\r\n                    <CardActions>\r\n                        <Grid container>\r\n                            <Grid item xs={3}></Grid>\r\n                            <Grid item xs={6}>\r\n                                <FormControlLabel\r\n                                    control={<Switch\r\n                                        value={true}\r\n                                        color=\"primary\"\r\n                                        onChange={ev => this.setState({ autoLogin: ev.target.checked })}\r\n                                    />}\r\n                                    label=\"Auto Login\"\r\n                                    tabIndex={3}\r\n                                />\r\n                            </Grid>\r\n                            <Grid item xs={3}></Grid>\r\n                            <Grid item xs={12}>\r\n                                <Button fullWidth variant=\"contained\" color=\"primary\" type=\"submit\">Login</Button>\r\n                            </Grid>\r\n                        </Grid>\r\n                    </CardActions>\r\n                </Card>\r\n            </form>\r\n        )\r\n    }\r\n\r\n}","import React, { Component } from 'react';\r\nimport {\r\n    Fab,\r\n    Icon,\r\n    Grid,\r\n    List,\r\n    ListItem,\r\n    Typography,\r\n    ListItemText,\r\n    ListItemIcon,\r\n    ListItemAvatar,\r\n    Avatar,\r\n    Collapse\r\n} from '@material-ui/core';\r\n\r\nimport Ajax from '../helpers/ajax';\r\nimport { Loader } from '../componets';\r\nimport { avatarUri } from '../config';\r\n\r\nconst RenderListItem = props => {\r\n\r\n    return props.clients.map(client => {\r\n        return (\r\n            <List key={client._id}>\r\n                <ListItem onClick={() => props.onExpanded(client._id)} className=\"touchable\">\r\n                    <ListItemAvatar>\r\n                        <Avatar src={client.avatarUri || avatarUri} />\r\n                    </ListItemAvatar>\r\n                    <ListItemText secondary={client.cellphone || ''}>{client.name}</ListItemText>\r\n                    <ListItemIcon><Icon style={{ transition: \"all .5s\" }} id={'icon-' + client._id}>keyboard_arrow_down</Icon></ListItemIcon>\r\n                </ListItem>\r\n                <RenderSubItems client={client} {...props} />\r\n            </List>\r\n        )\r\n    })\r\n}\r\n\r\nconst RenderSubItems = ({ client, navigation, onRefresh, expanded }) => {\r\n    const subitems = ['Llamar', 'Detalles', 'Mostrar Presupuestos', 'Mostrar Trabajos', 'Eliminar'];\r\n\r\n    const onChildClick = index => {\r\n        switch (index) {\r\n            case 0:\r\n                window.location.href = `tel:+${client.cellphone}`\r\n                break;\r\n\r\n            case 1:\r\n                navigation.go('ClientForm', { action: 'update', id: client._id })\r\n                break;\r\n\r\n            case 2:\r\n\r\n                break;\r\n\r\n            case 3:\r\n\r\n                break;\r\n\r\n            case 4:\r\n                const conf = window.confirm('¿Deseas eliminar el registro (Se eliminaran todos los trabajos y presupuestos relacionados)?')\r\n\r\n                if (conf) {\r\n                    Ajax().removeChild('clients', client._id).then(response => {\r\n                        if (response.error) return alert(response.message)\r\n                        onRefresh();\r\n                    })\r\n                }\r\n\r\n                break;\r\n\r\n            default:\r\n                return null;\r\n        }\r\n    }\r\n\r\n    return (\r\n        <Collapse timeout=\"auto\" unmountOnExit in={expanded[client._id] || false}>\r\n            <List>\r\n                {\r\n                    subitems.map((item, i) => {\r\n                        return (\r\n                            <ListItem key={item + i} className=\"active\">\r\n                                <Typography\r\n                                    variant=\"caption\"\r\n                                    onClick={() => onChildClick(i)}\r\n                                    className=\"touchable\"\r\n                                >\r\n                                    {item}\r\n                                </Typography>\r\n                            </ListItem>\r\n                        )\r\n                    })\r\n                }\r\n            </List>\r\n        </Collapse>\r\n    )\r\n}\r\n\r\nexport default class Clients extends Component {\r\n\r\n    state = {\r\n        clients: [],\r\n        expanded: {}\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.props.navigation.setNavbarParams({\r\n            title: \"Clientes\",\r\n            placeholder: \"Buscar Cliente\",\r\n            onSearch: val => this.searchClients(val),\r\n            onRefresh: () => this.fetchClients()\r\n        })\r\n\r\n        this.fetchClients();\r\n    }\r\n\r\n    async fetchClients() {\r\n        this.refs.loader.setVisible();\r\n        const response = await Ajax().fetchChildrens('clients')\r\n        this.setState({ clients: response.data.clients })\r\n        this.refs.loader.setHide();\r\n    }\r\n\r\n    async searchClients(value) {\r\n        if (value === \"\") return this.fetchClients();\r\n        const response = await Ajax().searchChild('clients', value)\r\n        if (response.error) return alert(response.message);\r\n        this.setState({ clients: response.data.clients })\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"container\">\r\n\r\n                <Loader ref=\"loader\" />\r\n\r\n                <Grid container>\r\n                    <Grid item xs={12}>\r\n                        <List component=\"nav\">\r\n                            <RenderListItem\r\n                                clients={this.state.clients}\r\n                                navigation={this.props.navigation}\r\n                                onRefresh={() => this.fetchClients()}\r\n                                expanded={this.state.expanded}\r\n                                onExpanded={(id) => {\r\n                                    const { expanded } = this.state;\r\n                                    expanded[id] = !this.state.expanded[id];\r\n                                    this.setState({ expanded })\r\n                                }}\r\n                            />\r\n                        </List>\r\n                    </Grid>\r\n                </Grid>\r\n\r\n                <span className=\"fab-fixed\">\r\n                    <Fab color=\"primary\" aria-label=\"Add\" onClick={\r\n                        () => this.props.navigation.go(\"ClientForm\")\r\n                    }>\r\n                        <Icon>add</Icon>\r\n                    </Fab>\r\n                </span>\r\n            </div>\r\n        )\r\n    }\r\n\r\n}","import React, { Component } from 'react';\r\nimport { TextField, Grid, Switch, FormControlLabel, Button } from '@material-ui/core';\r\nimport Ajax from '../helpers/ajax';\r\nimport { api } from '../config';\r\nimport { Loader } from '../componets';\r\n\r\nexport default class ClientForm extends Component {\r\n\r\n    clientAttributes = [\r\n        {\r\n            name: \"name\",\r\n            type: \"text\",\r\n            label: \"Nombre\",\r\n            required: true\r\n        },\r\n        {\r\n            name: \"cellphone\",\r\n            label: \"Celular\",\r\n            type: \"tel\",\r\n            required: true\r\n        },\r\n        {\r\n            name: \"phone\",\r\n            label: \"Telefono\",\r\n            type: \"tel\"\r\n        },\r\n        {\r\n            name: \"address\",\r\n            label: \"Dirección\"\r\n        },\r\n        {\r\n            name: \"hood\",\r\n            label: \"Colonia\"\r\n        },\r\n        {\r\n            name: \"county\",\r\n            label: \"Municipio\"\r\n        },\r\n        {\r\n            name: \"state\",\r\n            label: \"Estado\"\r\n        },\r\n        {\r\n            name: \"country\",\r\n            label: \"Pais\"\r\n        },\r\n        {\r\n            name: \"zip\",\r\n            label: \"Codigo Postal\",\r\n            type: \"number\"\r\n        }\r\n    ];\r\n    invoiceAttributes = [\r\n        {\r\n            name: \"rfc\",\r\n            label: \"RFC\"\r\n        },\r\n        {\r\n            name: \"forma_de_pago\",\r\n            label: \"Forma de Pago\"\r\n        },\r\n        {\r\n            name: \"uso_de_factura\",\r\n            label: \"Uso de factura\"\r\n        }\r\n    ]\r\n    state = {\r\n        values: {}\r\n    }\r\n\r\n    componentDidMount() {\r\n        const { navigation } = this.props;\r\n        navigation.setNavbarParams({\r\n            child: true,\r\n            parentView: \"Clients\",\r\n            title: \"Datos Clientes\"\r\n        })\r\n        if (navigation.getParams().action === 'update') {\r\n            this.getValues(navigation.getParams().id);\r\n        }\r\n    }\r\n\r\n    async getValues(id) {\r\n        this.refs.loader.setVisible();\r\n        const response = await Ajax().getChild('clients', id);\r\n        if (response.error)\r\n            return alert(response.message)\r\n\r\n        delete response.data._id;\r\n        this.setState({ values: response.data });\r\n        this.refs.loader.setHide();\r\n    }\r\n\r\n    handleSubmit(ev) {\r\n        ev.preventDefault();\r\n        if (this.props.navigation.getParams().action === 'update') {\r\n            this.updateClient();\r\n        } else {\r\n            this.addClient();\r\n        }\r\n    }\r\n\r\n    async updateClient() {\r\n        try {\r\n\r\n            const { values } = this.state;\r\n            const response = await Ajax().updateChild('clients', {\r\n                id: this.props.navigation.getParams().id,\r\n                client: values\r\n            });\r\n            if (response.error) return alert(response.message);\r\n            this.props.navigation.go('Clients');\r\n\r\n        } catch (error) {\r\n            console.log(error)\r\n        }\r\n    }\r\n\r\n    async addClient() {\r\n        try {\r\n\r\n            const { values } = this.state;\r\n            const url = `${api}/clients/add`\r\n            const response = await Ajax(url).post(values);\r\n            if (response.error) return alert(response.message);\r\n            this.props.navigation.go('Clients');\r\n\r\n        } catch (error) {\r\n            console.log(error)\r\n        }\r\n    }\r\n\r\n    handleChange(key, value) {\r\n        const { values } = this.state;\r\n        values[key] = value;\r\n        this.setState({ values })\r\n    }\r\n\r\n    render() {\r\n\r\n        const { navigation } = this.props;\r\n\r\n        return (\r\n            <div className=\"container padding-1 margin-1\">\r\n\r\n                {navigation.getParams().action === 'update' && <Loader ref=\"loader\" />}\r\n\r\n                <form onSubmit={(ev) => this.handleSubmit(ev)}>\r\n                    <Grid container spacing={16}>\r\n                        <Grid item xs={12}>\r\n                            {\r\n                                this.clientAttributes.map((el, i) => {\r\n                                    return (\r\n                                        <TextField\r\n                                            key={el.name + i}\r\n                                            name={el.name}\r\n                                            id={el.name}\r\n                                            label={el.label}\r\n                                            fullWidth\r\n                                            type={el.type || 'text'}\r\n                                            required={el.required || false}\r\n                                            tabIndex={1}\r\n                                            autoComplete={el.autoComplete || 'off'}\r\n                                            value={this.state.values[el.name] || ''}\r\n                                            onChange={({ target }) => this.handleChange(el.name, target.value)}\r\n                                        />\r\n                                    )\r\n                                })\r\n                            }\r\n\r\n                        </Grid>\r\n\r\n                        <Grid item xs={12}>\r\n                            <FormControlLabel\r\n                                control={\r\n                                    <Switch\r\n                                        checked={this.state.values.invoiceInfo || false}\r\n                                        color=\"primary\"\r\n                                        value=\"invoiceInfo\"\r\n                                        onChange={({ target }) => this.handleChange('invoiceInfo', target.checked)}\r\n                                    />\r\n                                }\r\n                                label=\"Datos de factura\"\r\n                                tabIndex={1}\r\n                            />\r\n                        </Grid>\r\n\r\n                        <Grid item xs={12}>\r\n                            {\r\n                                this.state.values.invoiceInfo &&\r\n\r\n                                this.invoiceAttributes.map((el, i) => {\r\n                                    return (\r\n                                        <TextField\r\n                                            key={el.name + i}\r\n                                            name={el.name}\r\n                                            id={el.name}\r\n                                            label={el.label}\r\n                                            fullWidth\r\n                                            type={el.type || 'text'}\r\n                                            required={el.required || false}\r\n                                            tabIndex={1}\r\n                                            autoComplete={el.autoComplete || 'off'}\r\n                                            value={this.state.values[el.name] || ''}\r\n                                            onChange={({ target }) => this.handleChange(el.name, target.value)}\r\n                                        />\r\n                                    )\r\n                                })\r\n\r\n                            }\r\n                        </Grid>\r\n\r\n                        <Grid xs={12} item>\r\n                            <Button\r\n                                variant=\"contained\"\r\n                                color=\"primary\"\r\n                                fullWidth\r\n                                type=\"submit\"\r\n                            >Enviar</Button>\r\n                        </Grid>\r\n\r\n                    </Grid>\r\n                </form>\r\n            </div>\r\n        )\r\n    }\r\n\r\n}","import React, { Component } from 'react';\r\nimport { Fab, Icon, Grid } from '@material-ui/core';\r\nimport Ajax from '../helpers/ajax';\r\nimport { CardBudget } from '../componets';\r\n\r\nexport default class Budgets extends Component {\r\n\r\n    state = {\r\n        budgets: []\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.props.navigation.setNavbarParams({\r\n            title: \"Presupuestos\"\r\n        })\r\n\r\n        this.fetchBudgets();\r\n        document.body.style.background = '#e1e1e1';\r\n\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        document.body.style.background = '#ffffff'\r\n    }\r\n\r\n    fetchBudgets() {\r\n        Ajax().fetchChildrens('budgets').then(response => {\r\n            if (response.error) return alert(response.message);\r\n            this.setState({ budgets: response.data.budgets })\r\n        })\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"container\" style={{ padding: \".2rem\" }}>\r\n                <Grid container spacing={16} style={{ marginBottom: \"3rem\" }}>\r\n                    {\r\n                        this.state.budgets.map(budget => {\r\n                            return (\r\n                                <Grid item xs={12} key={budget._id}>\r\n                                    <CardBudget budget={budget} navigation={this.props.navigation}/>\r\n                                </Grid>\r\n                            )\r\n                        })\r\n                    }\r\n                </Grid>\r\n                <span className=\"fab-fixed\">\r\n\r\n\r\n                    <Fab color=\"primary\" aria-label=\"Add\" onClick={\r\n                        () => this.props.navigation.go(\"SelectClient\", {\r\n                            parentView: 'Budgets',\r\n                            childView: 'AddBudget'\r\n                        })\r\n                    }>\r\n                        <Icon>add</Icon>\r\n                    </Fab>\r\n                </span>\r\n            </div>\r\n        )\r\n    }\r\n\r\n}","import React, { Component } from 'react';\r\nimport { Fab, Icon } from '@material-ui/core';\r\nimport { UserBar } from '../componets';\r\nimport Ajax from '../helpers/ajax';\r\nimport { avatarUri } from '../config';\r\n\r\nexport default class AddBudgets extends Component {\r\n\r\n    state = {\r\n        budgets: [],\r\n        values: {}\r\n    }\r\n\r\n    files = new FormData()\r\n\r\n    componentDidMount() {\r\n        const { setNavbarParams, getParams } = this.props.navigation;\r\n        setNavbarParams({\r\n            title: \"Agregar Presupuestos\",\r\n            child: true,\r\n            parentView: \"SelectClient\",\r\n            params: {\r\n                parentView: 'Budgets',\r\n                childView: 'AddBudget'\r\n            }\r\n        });\r\n\r\n        this.setState({\r\n            values: {\r\n                clientId: getParams()._id,\r\n                clientName: getParams().name,\r\n                clientCellphone: getParams().cellphone,\r\n                budgetDescription: ''\r\n            }\r\n        })\r\n    }\r\n\r\n    render() {\r\n        const { values } = this.state;\r\n\r\n        return (\r\n            <div className=\"container\">\r\n\r\n                <UserBar\r\n                    avatarUri={avatarUri}\r\n                    clientName={values.clientName}\r\n                />\r\n                <textarea\r\n                    className=\"add-budget\"\r\n                    rows=\"4\"\r\n                    placeholder=\"Agregar Información del presupuesto\"\r\n                    required\r\n                    value={values.budgetDescription}\r\n                    onChange={({ target }) => {\r\n                        values.budgetDescription = target.value\r\n                        this.setState({ values })\r\n                    }}\r\n                    ref=\"textbox\"\r\n                />\r\n\r\n                <div className=\"fab-fixed\">\r\n                    <Fab\r\n                        ev-target=\"add\"\r\n                        color=\"primary\"\r\n                        onClick={() => {\r\n                            if (values.budgetDescription !== '') {\r\n                                Ajax().addChild('budgets', values).then(response => {\r\n                                    if(response.error) return alert(response.message);\r\n                                    this.props.navigation.go(\"Budgets\");\r\n                                })\r\n                            } else {\r\n                                alert('Debe de llenar la información solicitada')\r\n                            }\r\n                        }}\r\n                    >\r\n                        <Icon>check</Icon>\r\n                    </Fab>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n\r\n}","import React, { Component } from 'react';\r\nimport {\r\n    List, ListItem, ListItemAvatar, ListItemText, Avatar, Typography, Icon, Grid, Divider\r\n} from '@material-ui/core';\r\nimport { UserBar } from '../componets';\r\nimport { avatarUri, uri, host, session } from '../config';\r\nimport openSocket from 'socket.io-client';\r\nimport ajax from '../helpers/ajax';\r\n\r\nconst Comment = props => {\r\n    return (\r\n        <Grid container spacing={0}>\r\n            <Grid item xs={12}>\r\n                <UserBar\r\n                    avatarUri={avatarUri}\r\n                    clientName={props.username}\r\n                    date={props.createDate || ''}\r\n                />\r\n            </Grid>\r\n            <Grid item xs={2} />\r\n            <Grid item xs={10}>\r\n                <Typography paragraph>{props.comment.split('\\n').map((item, i) => {\r\n                    return (\r\n                        <span key={item + i}>\r\n                            {item}\r\n                            <br />\r\n                        </span>\r\n                    )\r\n                })}</Typography>\r\n            </Grid>\r\n        </Grid>\r\n    )\r\n}\r\n\r\nexport default class BudgetComments extends Component {\r\n\r\n    socket = openSocket(host + '/tlacrm', {\r\n        query: {\r\n            room: this.props.navigation.getParams().budget._id,\r\n            token: session.token\r\n        }\r\n    })\r\n\r\n    handleTyping = ''\r\n\r\n    state = {\r\n        typing: '',\r\n        budget: { comments: [], budgetDescription: '' },\r\n        comment: ''\r\n    }\r\n\r\n    budget = this.props.navigation.getParams().budget;\r\n\r\n    componentDidMount() {\r\n        this.props.navigation.setNavbarParams({\r\n            child: true,\r\n            title: \"Prospectos\",\r\n            parentView: \"Budgets\"\r\n        })\r\n\r\n        document.body.style.background = \"#e1e1e1\";\r\n        this.socketEvents();\r\n        ajax().getChild('budgets', this.budget._id).then(response => {\r\n            this.setState({ budget: response.data.budget })\r\n        })\r\n    }\r\n\r\n    componentWillUnmount = () => document.body.style.background = \"#fffff\";\r\n\r\n    socketEvents() {\r\n        this.socket.on('client_typing', (data) => {\r\n            this.setState({ typing: data.user + ' is typing...' })\r\n        })\r\n\r\n        this.socket.on('client_stop_typing', () => this.setState({ typing: '' }))\r\n    }\r\n\r\n    addComment() {\r\n        const { budget, comment } = this.state;\r\n        const id = budget._id;\r\n        budget.comments.push({\r\n            comment,\r\n            username: 'Edgar Valli'\r\n        })\r\n        this.setState({ budget, comment: '' })\r\n\r\n        delete budget._id;\r\n\r\n        this.socket.emit('add_commnet', { id, budget })\r\n    }\r\n\r\n    render() {\r\n        const { budget } = this.state;\r\n\r\n        return (\r\n            <div className=\"container comments\">\r\n                <List>\r\n                    <ListItem>\r\n                        <ListItemAvatar>\r\n                            <Avatar src={avatarUri} />\r\n                        </ListItemAvatar>\r\n                        <ListItemText secondary={new Date(budget.createDate).toLocaleString()}>\r\n                            <Typography variant=\"title\">{budget.clientName}</Typography>\r\n                        </ListItemText>\r\n                    </ListItem>\r\n                </List>\r\n                <div className=\"main-comment\">\r\n                    <Typography paragraph>{\r\n                        budget.budgetDescription.split('\\n').map((item, i) => {\r\n                            return (\r\n                                <span key={item + i}>\r\n                                    {item}\r\n                                    <br />\r\n                                </span>\r\n                            )\r\n                        })\r\n                    }</Typography>\r\n                </div>\r\n\r\n                <div className=\"comments-container\" ref=\"comments\">\r\n                    <Typography variant=\"caption\" style={{ marginLeft: \"1rem\" }}>{this.state.typing}</Typography>\r\n                    {\r\n                        budget.comments.map((el, i) => {\r\n                            return (\r\n                                <div key={el.username + i}>\r\n                                    <Comment                                        \r\n                                        username={el.username}\r\n                                        comment={el.comment}\r\n                                    />\r\n                                    <Divider />\r\n                                </div>\r\n                            )\r\n                        })\r\n                    }\r\n\r\n                </div>\r\n\r\n                <div className=\"comment-box\">\r\n                    <Avatar src={uri} />\r\n                    <textarea\r\n                        type=\"text\"\r\n                        placeholder=\"Escribe tu comentario\"\r\n                        value={this.state.comment}\r\n                        onFocus={() => {\r\n                            setTimeout(() => {\r\n                                window.scrollTo(0, document.body.scrollHeight)\r\n                            }, 200)\r\n                        }}\r\n                        onChange={({ target }) => {\r\n                            this.setState({ comment: target.value })\r\n                            this.socket.emit('client_typing', {\r\n                                user: \"Edgar Valli\",\r\n                                value: target.value\r\n                            })\r\n                            clearInterval(this.handleTyping);\r\n                            if (target.value) {\r\n                                this.handleTyping = setTimeout(() => {\r\n                                    this.socket.emit('client_stop_typing');\r\n                                }, 500)\r\n                            }\r\n                        }}\r\n                    />\r\n                    <Icon onClick={() => this.addComment()}>send</Icon>\r\n                </div>\r\n\r\n            </div>\r\n        )\r\n    }\r\n\r\n}","import React, { Component } from 'react';\r\nimport { List, ListItem, ListItemText, ListItemIcon, Icon, TextField, Grid } from '@material-ui/core';\r\nimport Ajax from '../helpers/ajax';\r\nimport { Loader } from '../componets'\r\n\r\nexport default class SelectClient extends Component {\r\n\r\n    state = {\r\n        clients: []\r\n    }\r\n\r\n    params = this.props.navigation.getParams();\r\n\r\n    componentDidMount() {\r\n        this.props.navigation.setNavbarParams({\r\n            title:\"Selecciona un cliente\",\r\n            child: true,\r\n            parentView: this.params.parentView\r\n        });\r\n        this.fetchClients();\r\n    }\r\n\r\n    fetchClients() {\r\n        this.refs.loader.setVisible();\r\n        Ajax().fetchChildrens('clients').then(response => {\r\n            if (response.error) return alert(response.message);\r\n            this.setState({ clients: response.data.clients });\r\n            this.refs.loader.setHide();\r\n        })\r\n    }\r\n\r\n    searchClient(value) {\r\n        this.refs.loader.setVisible();\r\n        Ajax().searchChild('clients', value).then(response => {\r\n            if (response.error) return alert(response.message);\r\n            this.setState({ clients: response.data.clients });\r\n            this.refs.loader.setHide();\r\n        })\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"container\">\r\n\r\n                <Loader ref=\"loader\" />\r\n\r\n                <Grid container spacing={16}>\r\n                    <Grid item xs={12} style={{ padding: \"1rem\"}}>\r\n                        <TextField\r\n                            variant=\"standard\"\r\n                            type=\"search\"\r\n                            label=\"Buscar Cliente\"\r\n                            fullWidth\r\n                            onChange={({ target }) => {\r\n                                (target.value === '')\r\n                                    ? this.fetchClients()\r\n                                    : this.searchClient(target.value)\r\n                            }}\r\n                        />\r\n                    </Grid>\r\n                    <Grid item xs={12}>\r\n                        <List>\r\n                            {\r\n                                this.state.clients.map(client => {\r\n                                    return (\r\n                                        <ListItem key={client._id} onClick={() => {\r\n                                            this.props.navigation.go(this.params.childView, client)\r\n                                        }}>\r\n                                            <ListItemText secondary={client.cellphone || ''}>{client.name}</ListItemText>\r\n                                            <ListItemIcon>\r\n                                                <Icon>next</Icon>\r\n                                            </ListItemIcon>\r\n                                        </ListItem>\r\n                                    )\r\n                                })\r\n                            }\r\n                        </List>\r\n                    </Grid>\r\n                </Grid>\r\n\r\n            </div>\r\n        )\r\n    }\r\n\r\n}","import React, { Component } from 'react';\r\nimport { List, ListItem, ListItemAvatar, Avatar, Typography, ListItemText } from '@material-ui/core';\r\nimport Ajax from '../helpers/ajax';\r\n\r\nexport default class Jobs extends Component {\r\n\r\n    state = {\r\n        users: []\r\n    }\r\n\r\n    async componentDidMount() {\r\n        this.props.navigation.setNavbarParams({\r\n            title: \"Clientes\"\r\n        })\r\n\r\n        const resp = await Ajax().fetchChildrens('users');\r\n        if(!resp.error) {\r\n            this.setState({users: resp.data.users})\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"container\">\r\n                <List>\r\n                    {\r\n                        this.state.users.map(user => {\r\n                            return (\r\n                                <ListItem key={user._id}>\r\n                                    <ListItemAvatar>\r\n                                        <Avatar src={user.avatar} />\r\n                                    </ListItemAvatar>\r\n                                    <ListItemText secondary={user.username}>\r\n                                        <Typography>\r\n                                            {user.name}\r\n                                        </Typography>\r\n                                    </ListItemText>\r\n                                </ListItem>\r\n                            )\r\n                        })\r\n                    }\r\n                </List>\r\n            </div>\r\n        )\r\n    }\r\n\r\n}","import React, { Component } from 'react';\r\n\r\nexport default class Jobs extends Component {\r\n\r\n    componentDidMount() {\r\n        this.props.navigation.setNavbarParams({\r\n            title: \"Clientes\"\r\n        })\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"container\">\r\n                Trabajos\r\n            </div>\r\n        )\r\n    }\r\n\r\n}","import React, { Component } from 'react';\n\nimport { Navbar } from './componets';\n\nimport Login from './views/Login';\n\nimport Clients from './views/Clients';\nimport ClientForm from './views/ClientForm';\n\nimport Budgets from './views/Budgets';\nimport AddBudget from './views/AddBudget';\nimport BudgetComments from './views/BudgetComments';\nimport SelectClient from './views/SelectClient';\n\nimport Users from './views/Users';\nimport Jobs from './views/Jobs';\n\nclass App extends Component {\n\n  state = {\n    views: {\n      Login, Clients, ClientForm, Budgets, AddBudget,\n      SelectClient, BudgetComments,Jobs, Users\n    },\n    currentView: 'AddBudget',\n    params: {},\n    loggedIn: false,\n    isMobile: false\n  }\n\n\n  componentWillMount() {\n\n    this.breakPoints();\n\n    const loggedIn = localStorage.getItem('loggedIn') || sessionStorage.getItem('loggedIn')\n\n    if (loggedIn === 'true') {\n      this.setState({\n        loggedIn: true,\n        currentView: localStorage.getItem('currentView')\n      })\n    } else {\n      this.setState({ loggedIn: false })\n    }\n\n  }\n\n  breakPoints() {\n    const viewport = window.innerWidth;\n    if (/Mobile/.test(navigator.userAgent)) {\n      this.setState({ isMobile: true })\n    } else {\n      if (viewport > 768) this.setState({ isMobile: true })\n    }\n  }\n\n  render() {\n\n    const { views, currentView, isMobile } = this.state;\n    const View = views[currentView];\n\n    const navigation = {\n      go: (currentView, params = {}) => {\n        if (localStorage.getItem('currentView')) {\n          localStorage.setItem('currentView', currentView)\n          localStorage.setItem('params', JSON.stringify(params))\n        } else {\n          sessionStorage.setItem('currentView', currentView)\n          sessionStorage.setItem('params', JSON.stringify(params))\n        }\n\n        this.setState({ currentView, params });\n      },\n      setNavbarParams: (navbarParams) => this.refs.navbar.setParams(navbarParams),\n      isMobile,\n      getParams: () => {\n        let params = {};\n        localStorage.getItem('params')\n          ? params = localStorage.getItem('params')\n          : params = sessionStorage.getItem('params')\n        \n          return JSON.parse(params);\n      }\n    }\n\n    return (\n      !this.state.loggedIn\n        ? <Login />\n        : (\n          <div>\n            <Navbar ref=\"navbar\" navigation={navigation} />\n            <View navigation={navigation} />\n          </div>\n        )\n    )\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css';\n// import * as serviceWorker from './serviceWorker';\nimport './scripts';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\n// serviceWorker.unregister();\n"],"sourceRoot":""}